<!DOCTYPE html>
<html>
  <head>
    <title>MT-RTT</title>
    <script src="https://unpkg.com/jspsych@7.3.4"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-image-keyboard-response@1.1.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-fullscreen@1.2.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.3"></script>
	<script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.2.0"></script>
    <script src="https://unpkg.com/@jspsych/extension-mouse-tracking@1.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-instructions@1.1.4"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-text@1.1.3"></script>
    <script src="plugins/plugin-survey-slider.js"></script>
    <script src="plugins/plugin-survey-multiple-slider.js"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-survey-slider@2.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-survey-html-form@1.0.3"></script>
   <script  src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
   <script src="https://unpkg.com/@jspsych/plugin-survey-likert@1.1.3"></script>
   <script src="https://unpkg.com/@jspsych-contrib/plugin-pipe@0.4.0"></script>
    <link href="https://unpkg.com/jspsych@7.3.4/css/jspsych.css" rel="stylesheet" type="text/css" />
<style>
    #bottom-bar {
    position: fixed;
    bottom: 0;
    left: 0;
    height: 5%;
    width: 100%;
    background-color: lightblue;
    text-align: center;
    padding: 10px 0;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 0;
  }

  #jspsych-survey-html-form-next {
    font-weight: bold
  }

  .jspsych-html-slider-response-container {
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction: column;
    line-height: 1.3em !important;
}


.jspsych-multiple-slider-form {
    position:fixed
}

#jspsych-html-slider-response-wrapper {
    margin-top:5% !important
}

  .jspsych-content-wrapper.with-bottom-bar {
  padding-bottom: 5%;
}

.jspsych-content-wrapper.with-bottom-bar-and-button {
  padding-bottom: 5%;
  z-index: 0;
}

.jspsych-survey-html-form-preamble {
    margin-top: 5%
}

.jspsych-btn {
    position: fixed;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%); 
    padding: 0px;
    margin-bottom: 15px;
    z-index:9999;
    align-items: center;
    justify-content: center;
    width: 120px; 
    height: 30px;
}

.jspsych-btn-2 {
    position: fixed;
    left: 50%;
    bottom: 15%;
    transform: translateX(-50%); 
    padding: 0px;
    margin-bottom: 15px;
    z-index:9999;
    align-items: center;
    justify-content: center;
    width: 120px; 
    height: 30px;
}

#jspsych-multiple-slider-next {
    position: fixed;
    left: 50%;
    bottom: -24%;
    transform: translateX(-50%); 
    padding: 0px;
    margin-bottom: 15px;
    z-index: 9999;
    align-items: center;
    justify-content: center;
    width: 120px; 
    height: 30px;
    font-weight: bold
}    


#jspsych-multiple-slider-form {
    z-index: 9999;
    width:80%;
}


#btn-consent {
    position: fixed;
    left: 50%;
    transform: translateX(-50%);
    padding: 0px;
    margin-bottom: 15px;
    z-index:9999;
    align-items: center;
    justify-content: center;

}

#jspsych-fullscreen-btn {
    position: fixed;
    left: 50%;
    bottom: 0;
    transform: translateX(-50%); 
    padding: 0px;
    margin-bottom: 15px;
    z-index:9999;
    align-items: center;
    justify-content: center;
    width: 120px; 
    height: 30px;
}

.jspsych-content-wrapper {
    height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    z-index: 1;
  }




  .top-buttons .jspsych-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 0
  }

  /* .top-buttons .jspsych-html-button-response-button-group {
    display: flex;
    gap: 200px; 
    margin-top: 20px;
  } */

  .top-buttons {
    font-size: 20px;
    padding: 0px 0px;
    z-index: 1;
    width: 300px;
    height: 110px;
  }

  #jspsych-survey-likert-next {
    font-weight: bold;
  }


  #jspsych-survey-likert-next1 {
    position: fixed;
    left: 50%;
    bottom: -24%;
    transform: translateX(-50%); 
    padding: 0px;
    margin-bottom: 15px;
    z-index: 9999;
    align-items: center;
    justify-content: center;
    width: 120px; 
    height: 30px;
    font-weight: bold
  }


</style>

  </head>
  <!-- <body>
    body {
    margin: 0;
    padding: 0;
  }
</body> -->

  
  <script>


    var jsPsych = initJsPsych({
        on_finish: function() {
        jsPsych.data.displayData('csv');
      },
      extensions: [
    {type: jsPsychExtensionMouseTracking, params: {minimum_sample_time: 0}}
  ]
    });

    var timeline = [];

    var fulfill = 0


    var consent = {
  type: jsPsychHtmlButtonResponse,
  stimulus: `
    <div style="font-size: 10px;">
      <h1 style="text-align: center; margin-top: 5%;">Online Relative Response Task Experiment</h1>
    </div>
    <div style="height: 500px; width:800px; overflow-y: auto; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 12px;">
      <p>Welcome to the study. Thank you for considering taking part. <strong> Please make sure you are using a device with a mouse or trackpad </strong> - 
        some parts of the experiment cannot register inputs from a touchscreen, and this will result in unusable data.</p>
      <p><em>What is it for?</em></p>
      <p>The purpose of this research study is to further our understanding of our automatic comprehension and response to different types
        of sentence. If you have any questions, the researchers may be contacted at (ss2651@sussex.ac.uk)</p>

         <p><br><em>What does participation involve?</em></p>
      <p>This study uses an online experiment lasting approximately 25-35 minutes; Please make sure you are in a place where you can focus and
        not be interrupted. Firstly, you will be asked a few questions about yourself. Then, instructions will be given to complete tasks 
        involving responding to particular statements by pressing different buttons. These statements will either be to do with immigration
        in the UK, or Brexit. After the main task, you will be asked a few more questions before finishing. At that point, you will be given
        a link to a separate form to submit your email for the prize draw.
       
        <br>None of the statements presented will be of an abusive or extreme nature. However, given the topic matter, 
        they may nonetheless be distressing for some people. Please consult <a href="https://www.nhs.uk/mental-health/feelings-symptoms-behaviours/feelings-and-symptoms/stress/" target="_blank">this NHS webpage for resources to deal with distress</a> . This will also be presented at the end.
        <br>
        
        <br>No identifying information will be collected in the experiment, meaning your answers will be anonymous and not traceable to you. 
        Information from the prize draw form is entered and kept on a system entirely separate from the experimental data and is thus
        not connected to it. During the experiment, you will be given a random unique ID which you may make a note of. If after the experiment 
        you change your mind about participating, at any point until 10/08/2025 you may request that the data associated with this ID be 
        deleted.  You may also leave the experiment at any point if you wish to reverse your decision to participate, in which case your data 
        will not be included in the final analysis and will be deleted.</p>
        <p><br><em>Who can take part?</em></p>
        <p> To take part, you must be at least 18 years of age, speak English fluently, and currently reside in the UK. You must be using
            a mouse or trackpad, and not a touchscreen, to input your answers. If you are currently using a touchscreen, please connect a
            mouse or switch to a different device. </p>

        
        <p><br><em>What will happen to the results and the data?</em></p>
        <p>The results of this research will be included in a Master's dissertation, which we anticipate being 
            available from 21/08/25 (ss2651@sussex.ac.uk). In accordance with the principles of open science, the raw data will be publicly 
            available. 
            Your anonymity will be ensured in the way described above. Please read this information carefully and then, if you wish 
            to take part, please check the box below to show you have fully understood, and that you consent to take part in the study as it 
            is described.If you have any other questions about the experiment, you may send these to ss2651@sussex.ac.uk.</p><ul>


      <p><li>Your participation in this study is completely voluntary and confidential; you may withdraw at any time.</li></p>
        <p><li>If you do not wish to complete this survey, simply close your browser.</li></p>
      <p><li>Your responses are anonymous and IP addresses will not be collected to guarantee complete anonymity.</li></p></ul>
      <p>This project has been reviewed and approved by the University of Sussex.<br>Questions concerning your rights as a participant in this research may 
        be directed to ss2651@sussex.ac.uk.</p></ul>
    </div> <div style="display: flex; justify-content: space-around;flex-wrap:wrap">
     <div style="width:400px; text-align: left; margin-top: 10px; font-size: 12px;">
      <label><input type="checkbox" id="18-checkbox">I am over the age of 18</label><br>
      <label><input type="checkbox" id="touchscreen-checkbox"> I am not using a touchscreen to interact with this page</label><br>
    <label><input type="checkbox" id="english-checkbox"> I speak English fluently</label>

    </div>
    <div style="width:500px; text-align: left; margin-top: 10px; font-size: 12px;">
      <label><input type="checkbox" id="UK-checkbox">I am either British by nationality or currently reside in the UK</label><br>
            <label><input type="checkbox" id="voluntary">I understand my participation is voluntary and I may withdraw at any time</label><br>
      <label><input type="checkbox" id="consent-checkbox"> I have read and understood the above and consent to taking part</label>
    </div> </div>
  `,
  choices: ["I consent"],
  button_html: '<button id="btn-consent" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>I consent</strong></button>',
  on_load: function () {
  const Iconsentbutton = document.querySelector('.jspsych-btn');
    const consentcheckbox = document.getElementById('consent-checkbox');
    const agecheckbox = document.getElementById('18-checkbox');
    const englishcheckbox = document.getElementById('english-checkbox');
    const UKcheckbox = document.getElementById('UK-checkbox');
    const touchscreencheckbox = document.getElementById('touchscreen-checkbox');
    Iconsentbutton.disabled = true;
    function updateConsentState() {
      const consentchecked = consentcheckbox.checked;
      const agechecked = agecheckbox.checked;
      const englishchecked = englishcheckbox.checked;
      const UKchecked = UKcheckbox.checked;
      const touchscreenchecked = touchscreencheckbox.checked;
      Iconsentbutton.disabled = !(consentchecked && agechecked && englishchecked && UKchecked && touchscreenchecked);
    }
    consentcheckbox.addEventListener('change', updateConsentState);
    agecheckbox.addEventListener('change', updateConsentState);
    englishcheckbox.addEventListener('change',updateConsentState);
    UKcheckbox.addEventListener('change',updateConsentState);
    touchscreencheckbox.addEventListener('change',updateConsentState)
    document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
  on_finish: function() {
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    let bar = document.getElementById('bottom-bar');
    document.body.removeChild(bar);  
  },
  on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
},
data: { screen: "consent" }
};




timeline.push(consent);

var jspsych_id = ""
var block2code = ""
var theme = ""
var condition1 = ""
var condition2 = ""
var rule1 = ""
var rule2 = ""
var code = ""
var valid = 0
var block2only = 0
var clickcount = 0
var contbutton;
var ID = ''


const now = new Date();
const pad = (n) => n.toString().padStart(2, '0');

const formatted_date = `${pad(now.getDate())}-${pad(now.getMonth() + 1)}--${pad(now.getHours())}--${pad(now.getMinutes())}`;


var xcord = 0;
var ycord = 0;
var calibrationarray = [];
var cal = ''
var clickwhere;

function recordmouse(event){
    xcord = event.clientX;
    ycord = event.clientY;
    calibrationarray.push({x:xcord, y:ycord});
    clickcount++;
    }

var calstim  = function(){
    const clickwhere = document.getElementById('clickwhere')
    if (clickcount===1) {clickwhere.innerHTML = 'Please press:<br>the <strong>bottom left</strong> corner of the <strong>left</strong> button<br>as close to the edge as you can'}
    else if (clickcount===2) {clickwhere.innerHTML = 'Please press:<br>the <strong>top left</strong> corner of the <strong>left</strong> button<br>as close to the edge as you can'}
    else if (clickcount===3) {clickwhere.innerHTML = 'Please press:<br>the <strong>top right</strong> corner of the <strong>left</strong> button<br>as close to the edge as you can'}
    else if (clickcount===4) {clickwhere.innerHTML = 'Please press:<br>the <strong>bottom right</strong> corner of the <strong>left</strong> button<br>as close to the edge as you can'}
    else if (clickcount===5) {clickwhere.innerHTML = 'Please press:<br>the <strong>bottom left</strong> corner of the <strong>right</strong> button<br>as close to the edge as you can'}
    else if (clickcount===6) {clickwhere.innerHTML = 'Please press:<br>the <strong>top left</strong> corner of the <strong>right</strong> button<br>as close to the edge as you can'}
    else if (clickcount===7) {clickwhere.innerHTML = 'Please press:<br>the <strong>top right</strong> corner of the <strong>right</strong> button<br>as close to the edge as you can'}
    else if (clickcount===8) {clickwhere.innerHTML = 'Please press:<br>the <strong>bottom right</strong> corner of the <strong>right</strong> button<br>as close to the edge as you can'}
    else if (clickcount===9) {clickwhere.innerHTML = 'Please press:<br>the <strong>square button below</strong>, in the centre'}
    else if (clickcount===10) {clickwhere.innerHTML = 'Great! Please click once more to continue<br>'}
    else if (clickcount === 11){
        document.removeEventListener('click', recordmouse);
        document.removeEventListener('click', calstim);
        jsPsych.finishTrial()}
}
    

var buttoncalibration = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `
    <div id="clickwhere"></div>
     <button id="dummy1" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:25%; top: 15%"></button>
     <button id="dummy1" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>
     <button class="jspsych-btn-2" style="width: 15px; height: 15px; background-color: white; border: 2px solid black; border-radius: 0px; padding: 0"></button>
    `},
    choices: [],
    button_html: '<button id="continue-btn" class="jspsych-btn" style="font-weight:bold" <strong>Continue</strong></button>',
    on_start: function(){
      document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    },
    on_load: function(){
        const clickwhere = document.getElementById('clickwhere')
        clickwhere.innerHTML = 'Please press:<br>the <strong>square button below</strong>';
        document.addEventListener('click', recordmouse)
        document.addEventListener('click', calstim)
    },
    data: {
      screen: "calibration",
      calibration: calibrationarray
    }
    };



var fullscreentrial = {
    type: jsPsychFullscreen,
        fullscreen_mode: true,
        message: `<div><p>When you press 'Continue', the window will become full-screen. <br><br>Please keep the window full-screen until you are advised to close it at the end of the experiment.</p>
            <p><strong>If you exit full-screen before being told it is okay to do so, the resultant data will be unusable</strong></p>`,
        button_label: `<strong>Continue</strong>`,
        on_load: function(){document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
        let bar = document.createElement('div');
             bar.id = 'bottom-bar';
             document.body.appendChild(bar)},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
             document.body.removeChild(bar);
}
}

// timeline.push(fullscreentrial)

        beforeqfun = function(){
    const participated = document.querySelector('input[name="participated"]:checked')?.value;
    if (participated === "Yes") {block2only = 1} 
    else if (participated ==="No") {block2only=0}
    else if (participated ==="Half") {block2only=3}
    if (document.querySelector('input[name="participated"]:checked')) {contbutton.disabled = false}
}



var beforequestion = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){
        return `<div style="position:fixed; top:20%; left:50%; transform:translateX(-50%);"><p><strong>Select which applies to you:</strong></p></div>
            <div style="display: flex; flex-direction:column;height: 20%; width:46%; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 16px; position:absolute; z-index:-1;top:26.5%;left:50%;transform: translateX(-50%);">
                <label style="margin-bottom:4%"><input type="radio" name="participated" value="No"> I have not completed any of the experiment before</label><br><label style="margin-bottom:4%"><input type="radio" name="participated" value="Yes"> I am returning from a break to finish a session</label><label><input type="radio" name="participated" value="Half"> I have already completed one full experiment, and now would like to participate again</label><br>
                </div>
        `
        },
    choices: ['<strong>Continue</strong>'],
    button_html: '<button id="continue-btn" class="jspsych-btn" style="font-weight:bold"<strong>Continue</strong></button>',
    on_load: function(){
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
        contbutton = document.getElementById('continue-btn');
        contbutton.disabled=true;
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
        document.addEventListener('click',beforeqfun)
    },
    on_finish: function(data){
        document.removeEventListener('click',beforeqfun );
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar);
        data.block2only=block2only;
        if (block2only === 1) {
            jsPsych.timeline.insert(beenherebefore);
            jsPsych.timeline.insert(welcomeA);
            // jsPsych.timeline.insert(fullscreentrial);
            // jsPsych.timeline.insert(buttoncalibration);
            jsPsych.timeline.insert(welcome);
            }
        else if (block2only===0) {
            theme = jsPsych.randomization.sampleWithoutReplacement(["Brexit", "Immigration"],1)[0];
            data.theme=theme
            condition1 = jsPsych.randomization.sampleWithoutReplacement(["desc", "nondesc"],1)[0];jsPsych.data.addProperties({condition: condition1});
            jspsych_id = jsPsych.randomization.randomID(5).toUpperCase();
            data.jspsych_id=jspsych_id;
            if (condition1 === "desc") {condition2 = "nondesc"}
            else if (condition1 ==="nondesc") {condition2 = "desc"};
            rule1 = jsPsych.randomization.sampleWithoutReplacement(["true", "false"],1)[0];
            data.rule1=rule1;
            rule2 = jsPsych.randomization.sampleWithoutReplacement(["true", "false"],1)[0];
            data.rule2=rule2;
            code=theme[0]+condition2[0]+rule2[0];
            block2code=code.toUpperCase();
            data.block2code=block2code;
            console.log('theme:',theme,'<br>condition:',condition1,'<br>rule1:',rule1,'<br>condition2:',condition2,'<br>rule2:',rule2,'<br>code:',code,'<br>block2code:',block2code);
            jsPsych.timeline.insert(welcomeA);
            jsPsych.timeline.insert(fullscreentrial);
            jsPsych.timeline.insert(buttoncalibration);
            jsPsych.timeline.insert(welcome);
          }
        else if (block2only === 3){
            jsPsych.timeline.insert(halfbeenherebefore);
            jsPsych.timeline.insert(welcomeA);
            jsPsych.timeline.insert(fullscreentrial);
            jsPsych.timeline.insert(buttoncalibration);
            jsPsych.timeline.insert(welcome);
        };
}};
timeline.push(beforequestion);


  

//DO



var getthemefun = function(){
  console.log("getthemefun ran");
  const lasttheme = document.querySelector('input[name="lasttheme"]:checked')?.value;
  if (lasttheme ==="BrexitTheme") {theme="Immigration"}
  else if (lasttheme==="ImmigrationTheme"){theme="Brexit"}
}

var halfbeenherebefore = {
        type: jsPsychSurveyHtmlForm,
        preamble:`
            <div style="position:fixed; top:15%;left: 50%; transform: translateX(-50%); width:30%; margin: auto">
            <p>Thank you for returning!</p>
            <p>Please your participant ID and the theme of the statements from the last session.</p>`,
        html: `<div style="width: 30%; margin: auto; text-align: center; align-items: center; position:fixed; top:35%; left:50%;transform: translateX(-50%)">
  
  <p>Participant ID:</p>
  <div><input type="text" name="ID" maxlength="5" minlength="5" required style="width: 50%"></div>

  <p><br>Theme last session:</p>
        <label><input type="radio" name="lasttheme" value="BrexitTheme" required> Brexit</label><br>
        <label><input type="radio" name="lasttheme" value="ImmigrationTheme"> Immigration</label><br>
        </div>
            <div style="height: 55%; width:30%; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 14px; position:absolute; z-index:-1;top:21%;left:50%;transform: translateX(-50%);"></div>
`,
            data: { screen: "beenherebefore" },
        button_html: '<button id="beenherebtn" class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_start: function(){
            let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
        },
        on_load: function(){
          document.addEventListener('click',getthemefun);
          document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
        },
        on_finish: function(data){
          document.removeEventListener('click',getthemefun);
    jspsych_id = jsPsych.data.get().last(1).values()[0].response.ID.toUpperCase();
    data.jspsych_id = jspsych_id;
    lasttheme = document.querySelector('input[name="lasttheme"]:checked')?.value;
    if (lasttheme ==="BrexitTheme") {theme="Immigration"}
    else if (lasttheme==="ImmigrationTheme"){theme="Brexit"}
    data.theme=theme
    condition1 = jsPsych.randomization.sampleWithoutReplacement(["desc", "nondesc"],1)[0];
    data.condition1=condition1
    if (condition1 === "desc") {condition2 = "nondesc"}
    else if (condition1 ==="nondesc") {condition2 = "desc"};
    data.condition2=condition2;
    rule1 = jsPsych.randomization.sampleWithoutReplacement(["true", "false"],1)[0];
    data.rule1=rule1;
            rule2 = jsPsych.randomization.sampleWithoutReplacement(["true", "false"],1)[0];
    data.rule2=rule2;
            code=theme[0]+condition2[0]+rule2[0];
            block2code=code.toUpperCase();
            data.block2code=block2code
            block2only=0;
            console.log('theme:',theme,'<br>condition:',condition1,'<br>rule1:',rule1,'<br>condition2:',condition2,'<br>rule2:',rule2,'<br>code:',code,'<br>block2code:',block2code);
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar);
    }
};



var beenherebefore = {
        type: jsPsychSurveyHtmlForm,
        preamble:`
            <div style="position:fixed; top:20%;left: 50%; transform: translateX(-50%); margin: auto">
            <p>Thank you for returning!</p>
            <p>Please enter your participant ID and condition code (e.g. BNF) from before below.</p>`,
        button_label: "Continue",
        html: `<div style="width: 400px; margin: auto; text-align: center; align-items: center; position:fixed; top:35%; left:50%;transform: translateX(-50%)">
  
  <p>Participant ID:</p>
  <div style="width:400px; align-items: center"><input type="text" name="ID" maxlength="5" minlength="5" required style="width: 50%"></div>

  <p>Condition code:</p>
  <div style="width:400px; align-items: center"><input type="text" name="code" maxlength="3" minlength="3" required style="width: 50%"></div>
</div>`,
            data: { screen: "beenherebefore" },
        button_html: '<button id="beenhere-btn" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_start: function(){
            let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
        },
        on_finish: function(data){
    jspsych_id = jsPsych.data.get().last(1).values()[0].response.ID.toUpperCase();
    data.jspsych_id = jspsych_id;
    block2code = jsPsych.data.get().last(1).values()[0].response.code.toUpperCase();
    data.block2code = block2code
    if (block2code[0] === "I") {theme = "Immigration"}
    else if (block2code[0] === "B"){theme = "Brexit"};
    if (block2code[1]==="D") {condition2 = "desc"} 
    else if (block2code[1]==="N") {condition2 = "nondesc"};
    if (block2code[2] ==="T") {rule2 = "true"} 
    else if (block2code[2] ==="F") {rule2 = "false"};
            console.log(theme,condition2,rule2,block2code);
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar);
    }
};
    

// timeline.push(beenherebefore)

// timeline.push({
//     type: jsPsychPipe,
//     action: "save",
//     experiment_id: "HcISuNoo7PGZ",
//     filename: `${jspsych_id}_Full.csv`,
//     data_string: () => jsPsych.data.get().csv(),
//     on_finish: function () {
//         finished_experiment = true
//      }
// })

var welcomeA = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){
        let validcodes = ['BNT', 'BNF', 'BDT', 'BDF', 'INT', 'INF', 'IDT', 'IDF']
        if (block2only===0) {return `Welcome to the study! Please make a note or take a picture of the below:
            <br><br>Your participant ID: <strong>${jspsych_id}</strong>
            <br>Your condition code: <strong>${block2code}</strong>
            <br><br>These will allow you to resume the study if it is interrupted for any reason, without compromising anonymity.<br>
            <br>Next, we will check the experiment display.`}
        else if (block2only===1 && validcodes.includes(block2code))
        {return `Welcome back! You are returning with user ID <strong>${jspsych_id}</strong> and condition code <strong>${block2code}</strong>.
                <br>Next, we will check the experiment display.`}
        else if (block2only===1 && !validcodes.includes(block2code)) {return `<p style="color:red">This code is invalid. Please refresh and try again</p>`}
        },
    choices: function(){
        let validcodes = ['BNT', 'BNF', 'BDT', 'BDF', 'INT', 'INF', 'IDT', 'IDF']
        if (block2only===1 && !validcodes.includes(block2code)) {return []}
        else {return '[Continue]'}},
    button_html: function(){
        let validcodes = ['BNT', 'BNF', 'BDT', 'BDF', 'INT', 'INF', 'IDT', 'IDF']
        if (block2only===1 && !validcodes.includes(block2code)) {return []}
        else {return '<button id="continue-btn" class="jspsych-btn"><strong>Continue</strong></button>'}},
    data: { screen: "welcomeA" },
    on_start: function(){
            let bar = document.createElement('div');
            bar.id = 'bottom-bar';
           document.body.appendChild(bar);
            document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
            console.log(theme,condition2,rule2,block2code);
        },
    on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
        }
};



// timeline.push(buttoncalibration);

var immnondescinstructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, the rules and sentences are going to be about what <strong>should be</strong> the case,</p>
    <p>rather than what <strong>is</strong> the case</p>.
    <p>They will express an opinion about whether immigrant numbers <strong>should</strong> increase or decrease.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar)}
};

var brexitnondescinstructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, the rules and sentences are going to be about what <strong>should be</strong> the case,</p>
    <p>rather than what <strong>is</strong> the case</p>.
    <p>They will express an opinion about whether the UK <strong>should</strong> have left or remained in the EU.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar)}
};

var immdescinstructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, the rules and sentences are going to be about what <strong>is</strong> the case,</p>
    <p>rather than what <strong>should be</strong> the case</p>.
    <p>They will express an opinion about whether immigrant numbers <strong>are</strong> increasing or decreasing.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar)}
};

var brexitdescinstructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, the rules and sentences are going to be about what <strong>is</strong> the case,</p>
    <p>rather than what <strong>should be</strong> the case</p>.
    <p>They will express an opinion about whether the UK <strong>has</strong> left or remained in the EU.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar)}
};

var ontorealblocks = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>Great.</p>
    <p>Next, instead of words, you will respond to sentences according to a particular rule.</p>
    <p>The positions and meanings of the buttons will stay the same.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar)}
};

    var welcome = {
      type: jsPsychHtmlButtonResponse,
      stimulus: function(){return `<p style="line-height:2.2em">Thank you; the display is now calibrated.<br>Please ensure you are in a place where you can focus without being interrupted,<br>
         and that you have recorded your participant ID (<strong>${jspsych_id}</strong>) and condition code (<strong>${block2code}</strong>)</p>`},
         choices: ['<strong>Continue</strong>'],
         button_html: '<button id="continue-btn" class="jspsych-btn" style="font-weight:bold" <strong>Continue</strong></button>',
         on_start: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar)},
      on_finish: function(){
        let bar = document.getElementById('bottom-bar');
        document.body.removeChild(bar);
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar'),
            console.log(jspsych_id,theme,condition1,rule1,rule2,block2code,block2only)
        if (theme === "Brexit" && condition1 === "desc" && rule1 === "true" && rule2 === "false") {
            jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_DtNconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions)
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure)
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure)
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions)
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure)
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure)
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "desc" && rule1 === "true" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions)
    jsPsych.timeline.insert(brexit_desc_true_block40procedure)
    jsPsych.timeline.insert(brexit_desc_true_block40procedure)
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions)
    jsPsych.timeline.insert(brexit_desc_false_block40procedure)
    jsPsych.timeline.insert(brexit_desc_false_block40procedure)
    jsPsych.timeline.insert(pipefirsthalf)
    jsPsych.timeline.insert(B_DtNconditionchange)
    jsPsych.timeline.insert(fullscreentrial)
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions)
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure)
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure)
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions)
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure)
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure)
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "desc" && rule1 === "false" && rule2 === "false"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_DtNconditionchange);
    jsPsych.timeline.insert(fullscreentrial)
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "desc" && rule1 === "false" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_DtNconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "nondesc" && rule1 === "true" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_NtDconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "nondesc" && rule1 === "false" && rule2 === "false"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_NtDconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "nondesc" && rule1 === "false" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_NtDconditionchange)
    jsPsych.timeline.insert(fullscreentrial)
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Brexit" && condition1 === "nondesc" && rule1 === "true" && rule2 === "false") {
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(B_NtDconditionchange)
    jsPsych.timeline.insert(fullscreentrial)
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
 else if (theme === "Immigration" && condition1 === "desc" && rule1 === "true" && rule2 === "false") {
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_DtNconditionchange)
    jsPsych.timeline.insert(fullscreentrial)
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "desc" && rule1 === "true" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_DtNconditionchange)
    jsPsych.timeline.insert(fullscreentrial)
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "desc" && rule1 === "false" && rule2 === "false"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_DtNconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "desc" && rule1 === "false" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_DtNconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "nondesc" && rule1 === "true" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_DtNconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "nondesc" && rule1 === "false" && rule2 === "false"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_NtDconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "nondesc" && rule1 === "false" && rule2 === "true"){
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_NtDconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (theme === "Immigration" && condition1 === "nondesc" && rule1 === "true" && rule2 === "false") {
    jsPsych.timeline.insert(instructions1);
            jsPsych.timeline.insert(participant_info2);
jsPsych.timeline.insert(participant_info3);
            jsPsych.timeline.insert(part1cont);
            jsPsych.timeline.insert(instructions);
            jsPsych.timeline.insert(inducer_procedure);
            jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(pipefirsthalf);
    jsPsych.timeline.insert(I_NtDconditionchange);
    jsPsych.timeline.insert(fullscreentrial);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionform);
    jsPsych.timeline.insert(experimentover2)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code ==="BNT" && block2only===1) {
    // jsPsych.timeline.insert(instructions);
    // jsPsych.timeline.insert(inducer_procedure);
    // jsPsych.timeline.insert(ontorealblocks);
    // jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    // jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    // jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    // jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    // jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    // jsPsych.timeline.insert(rulechange);
    // jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    // jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    // jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    // jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    // jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    // jsPsych.timeline.insert(experimentover);
        // jsPsych.timeline.insert(BrexitExplicitMeasures1);
        jsPsych.timeline.insert(BIDR);
    // jsPsych.timeline.insert(BrexitExplicitMeasures2);
    // jsPsych.timeline.insert(BrexitExplicitMeasures3);
    // jsPsych.timeline.insert(BrexitExplicitMeasures4);
    // jsPsych.timeline.insert(BrexitExplicitMeasures5);
    // jsPsych.timeline.insert(BrexitExplicitMeasures6);
    // jsPsych.timeline.insert(BrexitExplicitMeasures7);
    // jsPsych.timeline.insert(exclusionformblock2only);
    // jsPsych.timeline.insert(experimentover)
    // jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code==="BNF" && block2only===1){
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_nondesc_false_instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_nondesc_true_instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40instructions);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(brexit_nondesc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code==="BDT" && block2only===1){
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code==="BDF" && block2only===1){
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(brexit_desc_false_instructions);
    jsPsych.timeline.insert(brexit_desc_false_procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40instructions);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(brexit_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(brexit_desc_true_instructions);
    jsPsych.timeline.insert(brexit_desc_true_procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40instructions);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(brexit_desc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(BrexitExplicitMeasures1);
    jsPsych.timeline.insert(BrexitExplicitMeasures2);
    jsPsych.timeline.insert(BrexitExplicitMeasures3);
    jsPsych.timeline.insert(BrexitExplicitMeasures4);
    jsPsych.timeline.insert(BrexitExplicitMeasures5);
    jsPsych.timeline.insert(BrexitExplicitMeasures6);
    jsPsych.timeline.insert(BrexitExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover);
    jsPsych.timeline.insert(exitfullscreen)

  }
  else if (block2code ==="INT" && block2only===1) {
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code==="INF" && block2only===1){
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_nondesc_false_instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_nondesc_true_instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40instructions);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(immigration_nondesc_true_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code==="IDT" && block2only===1){
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover)
    jsPsych.timeline.insert(exitfullscreen);
  }
  else if (block2code==="IDF" && block2only===1){
    jsPsych.timeline.insert(instructions);
    jsPsych.timeline.insert(inducer_procedure);
    jsPsych.timeline.insert(ontorealblocks);
    jsPsych.timeline.insert(immigration_desc_false_instructions);
    jsPsych.timeline.insert(immigration_desc_false_procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40instructions);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(immigration_desc_false_block40procedure);
    jsPsych.timeline.insert(rulechange);
    jsPsych.timeline.insert(immigration_desc_true_instructions);
    jsPsych.timeline.insert(immigration_desc_true_procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40instructions);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
    jsPsych.timeline.insert(immigration_desc_true_block40procedure);
        jsPsych.timeline.insert(experimentover);
        jsPsych.timeline.insert(ImmigrationExplicitMeasures1);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures2);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures3);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures4);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures5);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures6);
    jsPsych.timeline.insert(ImmigrationExplicitMeasures7);
    jsPsych.timeline.insert(exclusionformblock2only);
    jsPsych.timeline.insert(experimentover)
    jsPsych.timeline.insert(exitfullscreen);
  }
    }
        };

        // timeline.push(welcome);






    var instructions1 = {
        type: jsPsychHtmlButtonResponse,
        stimulus:`
            <div style="position:fixed; top:35%;left: 50%; transform: translateX(-50%); width:600px; margin: auto">Before starting the main task, 
                it is important for us to understand our participants' characteristics, so that our conclusions are scientifically valid.</p>
            <p>Let's start with some questions about yourself.</p>`,
        choices: ["Continue"],
        on_load: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.createElement('div');
             bar.id = 'bottom-bar';
             document.body.appendChild(bar);
            document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
        },
            data: { screen: "instructions1" },
        button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
        }
    }

    // timeline.push(instructions1)

// <div style="font-size: 12px; text-align:center; position:absolute; top:12%" <p><strong>Please enter the following information:</strong></p></div>

//     var participant_info2 = {
//         type: jsPsychSurveyHtmlForm,
//         html: `
//     <div style="width:400px;font-size: 16px; text-align:center; position:absolute; top:17%;left: 52%;transform: translateX(-50%);" <p><strong>Please enter the following information:</strong></p></div>

//     <div style="height: 55%; width: 30%; margin: auto; text-align: center; align-items: center; position:fixed;top:21%;left: 52%;transform: translateX(-50%);font-size:16px; overflow-y: auto;">
      
//       <div><p>Age (in years, e.g., "31"):</p></div>
//       <div style="width:400px; align-items: center;font-size:15px"><input type="text" name="age" style="width: 15%" required></div>

//       <div style="justify-"><p><br>Gender:</p></div>
//       <div style="width:140px;text-align: left; font-size:15px;align-items: left; position: relative; left:52%;transform: translateX(-50%);">
//         <label><input type="radio" name="gender" value="Female" required> Female</label><br>
//         <label><input type="radio" name="gender" value="Male"> Male</label><br>
//         <label><input type="radio" name="gender" value="Non-binary"> Non-binary</label><br>
//       </div>

//       <div><p>Highest completed education level:</p></div>
//       <div style="width:200px;text-align: left;font-size:15px; align-items: left; position: relative; left:52%;transform: translateX(-50%);">
//         <label><input type="radio" name="education" value="GCSE/Equivalent" required> GCSE/Equivalent</label><br>
//         <label><input type="radio" name="education" value="A-Level/Equivalent"> A-Level/Equivalent</label><br>
//         <label><input type="radio" name="education" value="Some university"> Some university</label><br>
//         <label><input type="radio" name="education" value="Undergraduate Degree"> Undergraduate Degree</label><br>
//         <label><input type="radio" name="education" value="Postgraduate Degree"> Postgraduate Degree</label><br>
//         <label><input type="radio" name="education" value="Doctorate">  Doctorate</label><br>
//       </div>

//     </div>
//     <div style="height: 55%; width:30%; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 14px; position:absolute; z-index:-1;top:21%;left:52%;transform: translateX(-50%);"></div>

//   `,
// button_label: "Continue",
//   on_load: function(){
//     document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
//   let bar = document.createElement('div');
//              bar.id = 'bottom-bar';
//              document.body.appendChild(bar);
// //   const content = document.querySelector('.jspsych-content')
// //             if (content) {
// //                 content.style.marginTop = '5%';
// //             }
//   },
//   on_finish: function() {
//     document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
//     let bar = document.getElementById('bottom-bar');
//     document.body.removeChild(bar);
//     // const content = document.querySelector('.jspsych-content')
//     //         if (content) {
//     //             content.style.marginTop = 'auto';
//             }
// };


var participant_info2 = {
        type: jsPsychSurveyHtmlForm,
        html: `
    <div style="width:30%;font-size: 16px; text-align:center; position:absolute; top:16%;left: 52%;transform: translateX(-50%);"><p><strong>Please enter the following information:</strong></p></div>

    <div style="height: 55%; width: 50%; margin: auto; text-align: center; align-items: center; position:fixed;top:21%;left: 52%;transform: translateX(-50%);font-size:16px; overflow-y: auto; overflow-x: hidden">
      
      <div style="text-align:left; display:flex; gap:20px; align-items:center"><p>Age (in years, e.g., "31"):</p><input type="text" name="age" style="width: 15%; height:20px" required></div>


      <div style="text-align:left; display:flex; gap:20px"><p>Gender:</p><label style="margin-left:110px;display: flex; align-items: center; gap: 5px;"><input type="radio" name="gender" value="Female" required> Female</label><label style="display: flex; align-items: center; gap: 5px;"><input type="radio" name="gender" value="Male"> Male</label><label style="display: flex; align-items: center; gap: 5px;"><input type="radio" name="gender" value="Non-binary"> Non-binary</label> 
        </div>


          <div style="text-align:left"><p><br>Ethnicity:</p></div>
      <div style="width:100%;margin-left:177px;text-align: left; font-size:15px;align-items: left; position: relative; left:52%;transform: translateX(-50%);">
        <label><input type="radio" name="ethnicity" value="Asian" required>Asian, Asian British, Asian Welsh</label><br>
        <label><input type="radio" name="ethnicity" value="Black">Black, Black British, Black Welsh, Caribbean, or African</label><br>
        <label><input type="radio" name="ethnicity" value="Mixed">Mixed or Multiple</label><br>
        <label><input type="radio" name="ethnicity" value="White">White</label><br>
        <label><input type="radio" name="ethnicity" value="Other">Other</label><br>
        <label><input type="radio" name="ethnicity" value="Preferno">Prefer not to say</label><br>
      </div>

      
      <div style="text-align:left; display:flex; gap:20px; align-items:center; font-size:14px"><p><em>If 'Other', you may provide more detail (not required)</em>:</p><input type="text" name="age" style="width: 40%"></div>

      <div style="text-align:left"><p>Highest completed education level:</p></div>
      <div style="margin-left:177px;width:100%;text-align: left;font-size:15px; align-items: left; position: relative; left:52%;transform: translateX(-50%);">
        <label><input type="radio" name="education" value="GCSE/Equivalent" required> GCSE/Equivalent</label><br>
        <label><input type="radio" name="education" value="A-Level/Equivalent"> A-Level/Equivalent</label><br>
        <label><input type="radio" name="education" value="Some university"> Some university</label><br>
        <label><input type="radio" name="education" value="Undergraduate Degree"> Undergraduate Degree</label><br>
        <label><input type="radio" name="education" value="Postgraduate Degree"> Postgraduate Degree</label><br>
        <label><input type="radio" name="education" value="Doctorate">  Doctorate</label><br><br><br>
      </div>

    </div>
    <div style="height: 55%; width:50%; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 14px; position:absolute; z-index:-1;top:21%;left:52%;transform: translateX(-50%);"></div>
  `,
button_label: "Continue",
  on_load: function(){
    document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
  let bar = document.createElement('div');
             bar.id = 'bottom-bar';
             document.body.appendChild(bar);
//   const content = document.querySelector('.jspsych-content')
//             if (content) {
//                 content.style.marginTop = '5%';
//             }
  },
  on_finish: function() {
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    let bar = document.getElementById('bottom-bar');
    document.body.removeChild(bar);
    // const content = document.querySelector('.jspsych-content')
    //         if (content) {
    //             content.style.marginTop = 'auto';
            }
};



var participant_info3 = {
        type: jsPsychSurveyHtmlForm,
        html: `
       <div style="width:400px;font-size: 16px; text-align:center; position:absolute; top:16%;left: 52%;transform: translateX(-50%);"><p><strong>Please enter the following information:</strong></p></div>

    <div style="height: 55%; width: 50%; margin: auto; text-align: center; align-items: center; position:fixed;top:21%;left: 52%;transform: translateX(-50%);font-size:16px; overflow-y: auto; overflow-x:hidden">
      

      <div style="text-align:left; display:flex; gap:20px; align-items:center"><p>Are you British by nationality?</p><label style="margin-left:230px"><input type="radio" name="british" value="British" required>Yes</label><label><input type="radio" name="british" value="NotBritish">No</label></div>
        
     <div style="margin-top:40px;text-align:left;  display:flex; gap:30px; align-items:center"><p>If you answered 'No', what is your nationality (e.g. "French")?</p><input type="text" name="nationality" style="width: 25%"></div>

     <div style="text-align:left; margin-top:40px"><p>For how long have you lived in the UK (in total)?</p></div>
      <div style="width:50%;text-align: left; font-size:15px;align-items: left; margin-left:477px;">
        <label style="margin-top:5px"><input type="radio" name="uktime" value="under6" required> Under 6 months</label><br>
        <label style="margin-top:5px"><input type="radio" name="uktime" value="6to12"> 6-12 months</label><br>
        <label style="margin-top:5px"><input type="radio" name="uktime" value="1to3">1-3 years</label><br>
        <label style="margin-top:5px"><input type="radio" name="uktime" value="3to5">3-5 years</label><br>
        <label style="margin-top:5px"><input type="radio" name="uktime" value="over5years">Over 5 years</label><br>
        <label style="margin-top:5px"><input type="radio" name="uktime" value="allmylife">For most or all of my life</label><br>

      </div>

    </div> </div>
    <div style="height: 55%; width:50%; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 14px; position:absolute; z-index:-1;top:21%;left:52%;transform: translateX(-50%);"></div>
  `,
button_label: "Continue",
  on_load: function(){
    document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
  let bar = document.createElement('div');
             bar.id = 'bottom-bar';
             document.body.appendChild(bar);
  },
  on_finish: function() {
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    let bar = document.getElementById('bottom-bar');
    document.body.removeChild(bar);
            }
};


var part1cont= {
      type: jsPsychHtmlButtonResponse,
      stimulus: `<p style="height:46%">Thank you.<br>Now, the main experiment will begin.</p>
      `,
      on_load: function(){
        let bar = document.createElement('div');
             bar.id = 'bottom-bar';
             document.body.appendChild(bar);
             document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
      },
      post_trial_gap: 500,
      choices: ["Continue"],
      on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    let bar = document.getElementById('bottom-bar');
    document.body.removeChild(bar);
      },
        data: { screen: "part1cont" },
        button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    };

    // timeline.push(part1cont);


    var instructions = {
      type: jsPsychHtmlButtonResponse,
      stimulus: `
        <p>In the experiment, a stimulus will appear in the center 
        of the screen.</p>
        <br>
        <p>If the word means <strong>"true"</strong>, 
        press the <strong>left</strong> button as fast as you can.</p>
        <p>If the word means <strong>"false"</strong>, press the <strong>right</strong> button 
        as fast as you can.</p>
        <br>
        <p>Before each trial, you will press a button on the bottom of the screen.</p>
        <p style="color:red"><strong>Please keep the mouse still until the word appears.</strong></p>
        <br>
        <p> If you get an answer wrong, a red cross will appear. Please press the correct answer as fast as you can.</p>
            <p>Press 'Continue' to begin.</p>
        <div style='width: 700px;'>
        
      `,
      post_trial_gap: 500,
      choices: ["Continue"],
      on_start: function(){
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar)},
        data: { screen: "inducer instructions" },
        button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_finish: function(){
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
        }
    };

    // timeline.push(instructions);


    var inducer_stimuli = [
    { stimulus: "Right",  correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    { stimulus: "Wrong",  correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>'},
    { stimulus: "Correct",  correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    { stimulus: "Incorrect",  correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>'},
    { stimulus: "True",  correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:25%; top: 15%"></button>'},
    { stimulus: "False",  correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>'},
    { stimulus: "Agree",  correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:25%; top: 15%"></button>'},
    { stimulus: "Disagree",  correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>'},
    { stimulus: "True",  correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:25%; top: 15%"></button>'},
    { stimulus: "False",  correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>'},
    ];

var rightwrong2stimuli = inducer_stimuli.concat(inducer_stimuli)

var start_button = {
  type: jsPsychHtmlButtonResponse,
  stimulus: `<div style="position:fixed; top:60%;left: 50%; transform: translateX(-50%)">
    <p>Click the button below</p>
    </div>`,
  choices: [''],
  on_start: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
  },
  button_html: '<button class="jspsych-btn-2" style="width: 15px; height: 15px; background-color: white; border: 2px solid black; border-radius: 0px; padding: 0"></button>',
  data: {
    task: 'start_button'
  }
};


var stopconstants = 0;
var start;
var mousebad = 0;
mousetrackingerror = 0;
var totalmousebad = 0;

function handleLeftMouse() {console.log("left mouse move"), mousebad = 1};
function handleRightMouse() {console.log("right mouse move"), mousebad = 1};
function handleTopMouse() {console.log("top mouse move"), mousebad = 1};
function handleBottomMouse() {console.log("bottom mouse move"), mousebad = 1};

    var fixation = {
      type: jsPsychHtmlButtonResponse,
      stimulus: '<div style="font-size:46px; position:fixed; top:52%;left:50%;transform:translateX(-50%)">+</div> <div id="mouseleftfix" style="position: fixed; width: 20px; height: 70px; bottom:13%;left: 48%; transform: translateX(-50%)"></div> <div id="mouseright" style="position: fixed; width: 20px; height: 70px; bottom:13%;left: 52%; transform: translateX(-50%)"></div> <div id="mousetop" style="position: fixed; width: 70px; height: 20px; bottom:18%;left: 50%; transform: translateX(-50%)"></div> <div id="mousebottom" style="position: fixed; width: 70px; height: 20px; bottom:11%;left: 50%; transform: translateX(-50%)"></div>',
      choices: [],
      trial_duration: function(){
        return jsPsych.randomization.sampleWithoutReplacement([500, 750, 450, 550, 650, 750, 850, 1000], 1)[0];
      },
      data: {
        task: 'fixation'
      },
      on_start: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    },
      on_load: function(){
        const leftfix = document.getElementById('mouseleftfix');
        const rightfix = document.getElementById('mouseright');
        const topfix = document.getElementById('mousetop');
        const bottomfix = document.getElementById('mousebottom');
        mousebad = 0
        mousetrackingerror=0

    if (!leftfix || !rightfix || !topfix || !bottomfix) {
        console.error("One or more mouse regions not found in the DOM.");
        mousetrackingerror = 1;
        return;
    }
    leftfix.addEventListener('mouseover', handleLeftMouse);
    rightfix.addEventListener('mouseover', handleRightMouse);
    topfix.addEventListener('mouseover', handleTopMouse);
    bottomfix.addEventListener('mouseover', handleBottomMouse);
    },
    on_finish: function(data){
        const leftfix = document.getElementById('mouseleftfix');
        const rightfix = document.getElementById('mouseright');
        const topfix = document.getElementById('mousetop');
        const bottomfix = document.getElementById('mousebottom');
    if (leftfix) leftfix.removeEventListener('mouseover', handleLeftMouse);
    if (rightfix) rightfix.removeEventListener('mouseover', handleRightMouse);
    if (topfix) topfix.removeEventListener('mouseover', handleTopMouse);
    if (bottomfix) bottomfix.removeEventListener('mouseover', handleBottomMouse);
        data.mousetrackingerror = mousetrackingerror
        data.earlymove = mousebad
    }
        };



    var rightanswer = []


var wrongtimes = [];



var test1 = {
      type: jsPsychHtmlButtonResponse,
      stimulus: function(){
let word = jsPsych.timelineVariable('stimulus', true);
let realbutton = jsPsych.timelineVariable('correct_response', true);
if (realbutton === 0) {return `<p style="position:fixed; font-size: 28px; position:fixed; top: 46%; left:50%; transform: translateX(-50%)">${word}</p> <button id="dummy" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:75%; top: 15%"></button>
<div id="mouseleft" style="position: fixed; width: 20px; height: 70px; bottom:13%;left: 48%; transform: translateX(-50%)"></div> <div id="mouseright" style="position: fixed; width: 20px; height: 70px; bottom:13%;left: 52%; transform: translateX(-50%)"></div>
<div id="mousetop" style="position: fixed; width: 70px; height: 20px; bottom:18%;left: 50%; transform: translateX(-50%)"></div> <div id="mousebottom" style="position: fixed; width: 70px; height: 20px; bottom:11%;left: 50%; transform: translateX(-50%)"></div>`}
else {return `<p style="position:fixed; font-size: 28px; top: 46%; left:50%; transform: translateX(-50%)">${word}</p><button id="dummy" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left:25%; top: 15%"></button>`}},
      choices: jsPsych.timelineVariable('button'),
  button_html: jsPsych.timelineVariable('html'),
  randomize_order: true,
css_classes: ['top-buttons'],
extensions: [{type: jsPsychExtensionMouseTracking, params: {targets: ['*']}}],
      data: {
        task: 'response',
        correct_response: jsPsych.timelineVariable('correct_response'),
        stimulus: jsPsych.timelineVariable('stimulus'),
        teststim: jsPsych.timelineVariable('stimulus')
      },
      on_load: function(){
        wrongtimes = [];
        const screen = document.querySelector('.jspsych-content')
        const buttons = document.querySelectorAll('.jspsych-html-button-response-button');
        const correctresponse = jsPsych.timelineVariable('correct_response')
        const t0 = performance.now();
        const wrongdiv = document.createElement('div');
        wrongdiv.style = 'color: red; font-size: 60px; position: fixed; top: 60%;left: 50%;transform: translateX(-50%)';
        screen.appendChild(wrongdiv);
        const dummy = document.getElementById("dummy");
        let dummyclicks = 0;
        dummy.addEventListener("click", () => {
            wrongtimes.push(performance.now() - t0);
            console.log("dummy clicked at", wrongtimes);
            dummyclicks = dummyclicks+1; console.log(dummyclicks);
            wrongdiv.innerHTML = 'X'
        });
    },
      on_finish: function(data){
        if (wrongtimes.length === 0) {data.correct=1}
        else {data.correct=0}
        data.wrongattempts = wrongtimes.length
        data.wrongrts = wrongtimes
        var trials = jsPsych.data.get().filter({task: 'fixation'});
        var goodtrials = trials.filter({earlymove: 0});
        var goodness = Math.round(goodtrials.count() / trials.count() * 100)
        if (goodness < 90) {console.log('goodness okay;',goodness)}
        else {console.log('goodnessbad;',goodness)}

      },
};





// in on_finish:
        // if (data.rt > 2500) {slow = "1"}
        // else {slow = "0"}
        // console.log(data.rt)
        // console.log(slow)

  
    var inducer_procedure = {
      timeline: [start_button, fixation, test1],
      timeline_variables: inducer_stimuli,
      // 2 4
      repetitions: 1,
      randomize_order: true,
      data: {block:'inducer'} 
      };
    // timeline.push(inducer_procedure);



    var summary1 = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: function() {

        var trials = jsPsych.data.get().filter({task: 'inducer'});
        var correct_trials = trials.filter({correct: 1});
        var accuracy = Math.round(correct_trials.count() / trials.count() * 100);
        var rt = Math.round(correct_trials.select('rt').mean());
        

  

        return `<p>You responded correctly on ${accuracy}% of the trials.</p>
          <p>Your average response time was ${rt}ms.</p>
          <p>Press any key to go to the next stage. Thank you!</p>`;
    
          

      },
    
    };
    // timeline.push(summary1);




//block one (descriptive, true)
    
    var brexit_desc_true_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, please respond as if the UK <strong>has left</strong> the EU.</p>
    <p>For example, if the sentence says '<em>The UK has pulled out of the EU</em>' respond as if the sentence is <strong>true</strong>.</p>
            <p style="color:red"><strong>Remember to keep the mouse still until the word appears.</strong></p>
    <p>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'brx_desc_true_instructions'} 
};
var immigration_desc_true_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, please respond as if immigration to the UK is<strong>increasing</strong>.</p>
    <p>For example, if the sentence says 'Immigration levels are low', you should response as if the sentence is <strong>false</strong>.</p>
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_desc_true_instructions'} 
};



    var brexit_desc_true_stimuli = [
      { stimulus: "The UK has left the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK has exited the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK has withdrawn from the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK has pulled out of the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK hasnt remained in the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK is out of the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK hasnt stayed in the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK hasnt kept being in the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK isnt in the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK isn't part of the EU",  correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK has remained in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK has stayed in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK has kept being in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK is in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK is part of the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK hasnt left the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK hasnt exited the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK hasnt withdrawn from the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK hasnt pulled out of the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK isnt out of the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    ];

    var brexit_desc_true_rightwrong_stimuli = brexit_desc_true_stimuli.concat(rightwrong2stimuli)


    var brexit_desc_true_procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_desc_true_stimuli,
      // 2
      repetitions: 1,
      randomize_order: true,
      data: {block:'BDTind'} 

    };

    
    var brexit_desc_true_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_desc_true_rightwrong_stimuli,
      //2
      repetitions: 1,
      randomize_order: true,
      data: {block:'BDT'} 

    };



    var immigration_desc_true_stimuli = [
    { stimulus: "Immigrant numbers are rising", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers are increasing", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers are getting higher", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population is expanding", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population is climbing", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers aren't decreasing", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers aren't going down", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers aren't declining", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population isn't shrinking", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population isn't getting smaller.", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers are decreasing", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers are going down", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers are declining", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population is shrinking", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population is getting smaller", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers arent rising", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers arent increasing", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers arent getting higher", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population isn't expanding", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population isn't climbing", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' }
    ];

var immigration_desc_true_rightwrong_stimuli = immigration_desc_true_stimuli.concat(rightwrong2stimuli)


var immigration_desc_true_procedure = {
    timeline: [start_button, fixation, test1],
    timeline_variables: immigration_desc_true_stimuli,
    repetitions: 2,
    randomize_order: true,
    data: {block:'IDTintro'} 

};

var immigration_desc_true_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: immigration_desc_true_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'IDT'} 

    };

//block two (descriptive, false)

var brexit_desc_false_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, please respond as if the UK <strong>is still</strong> in the EU.</p>
    <p>For example, if the sentence says 'The UK has remained in the EU' respond as if the sentence is <strong>true</strong>.</p>
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)}
            ,
            data: {screen:'Brx_desc_false_instructions'} 
};
var immigration_desc_false_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, please respond as if the number of immigrants is getting <strong>smaller</strong>.</p>
    <p>That is, as if each year, the number of immigrants in the UK is declining.</p>
    <p>For example, if the sentence says '<em>Immigration numbers are decreasing</em>', respond as if the sentence is <strong>true</strong>.</p>
    <p> If the sentence says '<em>The immigrant population is increasing</em>',respond as if the sentence is <strong>false</strong>.</p>
    <p> If the sentence says '<em>The immigrant population isn't increasing</em>', respond as if the sentence is <strong>true</strong></p>
    <p> Please note that this does not imply a value judgement about whether the assertion is good or bad.</p>
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'Imm_desc_false_instructions'} 
};



var brexit_desc_false_stimuli = [
{ stimulus: "The UK has left the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'  },
      { stimulus: "The UK has exited the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK has withdrawn from the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK has pulled out of the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK hasnt remained in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK is out of the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
      { stimulus: "The UK hasnt stayed in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK hasnt kept being in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK isnt in the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK isn't part of the EU",  correct_response: 1,button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
      { stimulus: "The UK has remained in the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK has stayed in the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK has kept being in the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK is in the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK is part of the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>' },
      { stimulus: "The UK hasnt left the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK hasnt exited the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK hasnt withdrawn from the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK hasnt pulled out of the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
      { stimulus: "The UK isnt out of the EU",correct_response: 0,button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    ];

    var brexit_desc_false_rightwrong_stimuli = brexit_desc_false_stimuli.concat(rightwrong2stimuli)


    var brexit_desc_false_procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_desc_false_stimuli,
      // 2
      repetitions: 1,
      randomize_order: true,
      data: {block:'BDFintro'} 
    };

    var brexit_desc_false_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_desc_false_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'BDF'} 
    };

    // 2

    var immigration_desc_false_stimuli = [
    { stimulus: "Immigrant numbers are rising",correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers are increasing",correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers are getting higher", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population is expanding", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population is climbing",correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers aren't decreasing", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers aren't going down", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers aren't declining", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population isn't shrinking", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "The immigrant population isn't getting smaller.",correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>' },
  { stimulus: "Immigrant numbers are decreasing",     correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers are going down", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers are declining", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population is shrinking",correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population is getting smaller", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers arent rising",correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers arent increasing", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers aren't getting higher", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population isn't expanding", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population isn't climbing",correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style="font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    ];

var immigration_desc_false_rightwrong_stimuli = immigration_desc_false_stimuli.concat(rightwrong2stimuli)


var immigration_desc_false_procedure = {
    timeline: [start_button, fixation, test1],
    timeline_variables: immigration_desc_false_stimuli,
    repetitions: 2,
    randomize_order: true,
    data: {block:'IDTintro'} 
};

var immigration_desc_false_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: immigration_desc_false_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'IDT'} 
    };


// // now onto non-descriptive "positive" statements (e.g. brexit should have happened)



var brexit_nondesc_true_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `
    <p>In this block, please respond as the UK <strong>should have</strong> left the EU;</p>
    <p> That it was the right thing to do, and a good thing to have happened. </p>
    <p>For example, if the sentence says "<em>The UK should have exited the EU</em>", you should respond as if the sentence is <strong>true</strong>.</p>
    <p><br>Press to continue</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'brx_nondesc_true_instructions'} 
};
var immigration_nondesc_true_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, please respond as if immigration to the UK <strong>should increase</strong>.</p>
    <p>For example, if the sentence says 'Immigration levels should decrease', you should respond as if that statement is <strong>false</strong>.</p>
    <p><br>Press to continue</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_nondesc_true_instructions'} 
};


    var brexit_nondesc_true_stimuli = [
    { stimulus: "The UK should have left the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should have exited the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should have withdrawn from the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should have pulled out of the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should be out of the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have remained in the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have stayed in the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have kept being in the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't be in the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't be part of the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should have stayed in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should have remained in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should have kept being in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should be in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should be part of the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have withdrawn from the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have pulled out of the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have exited the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have left the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't be out of the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'}
    ];

    var brexit_nondesc_true_rightwrong_stimuli = brexit_nondesc_true_stimuli.concat(rightwrong2stimuli)


    var brexit_nondesc_true_procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_nondesc_true_stimuli,
      repetitions: 2,
      randomize_order: true,
      data: {block:'BNTintro'} 
    };


    var brexit_nondesc_true_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_nondesc_true_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'BNT'} 
    };


    var immigration_nondesc_true_stimuli = [
    { stimulus: "Immigrant numbers should rise", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers should increase", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers should get higher", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population should climb", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population should expand", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers shouldnt decrease", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers shouldnt go down", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers shouldnt decline", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population shouldnt shrink", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The immigrant population shouldn't get smaller", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers should decrease", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers should go down", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers should decline", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The immigrant population should shrink", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The immigrant population should get smaller", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers shouldnt rise", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers shouldnt increase", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "Immigrant numbers shouldnt get higher", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The immigrant population shouldn't expand", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The immigrant population shouldn't climb", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'}
    ];

    var immigration_nondesc_true_rightwrong_stimuli = immigration_nondesc_true_stimuli.concat(rightwrong2stimuli)


var immigration_nondesc_true_procedure = {
    timeline: [start_button, fixation, test1],
    timeline_variables: immigration_nondesc_true_stimuli,
    repetitions: 2,
    randomize_order: true,
    data: {block:'INTintro'} 
};

var immigration_nondesc_true_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: immigration_nondesc_true_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'INT'} 
    };



// // non descriptive false (immigration should not be high, brexit should not have happened)

var brexit_nondesc_false_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: ` <p>In this block, please respond as if the UK <strong>should have stayed</strong> in the EU.</p>
    <p>For example, if the sentence says 'The UK should have remained in the EU', respond as if the sentence is <strong>true</strong>.</p>
    <p>If the sentence says 'The UK shouldn't have stayed in the EU', respond as if the sentence is <strong>false</strong>.</p>
    <p>Press to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'brx_nondesc_false_instructions'} 
};
var immigration_nondesc_false_instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>In this block, please respond as if immigrant numbers should <strong>decrease</strong>.</p>
    <p>For example, if the sentence says 'Immigrant numbers should rise', respond as if the sentence is <strong>false</strong>.</p>
    <p>If the sentence says 'Immigrant numbers should go down', respond as if the sentence is <strong>true</strong>.</p>
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_nondesc_false_instructions'} 
};

var immigration_nondesc_false_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false' from before.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if immigrant numbers <strong>should decrease</strong>.</p>
    <p>For example, if the sentence says 'Immigrant numbers should rise', respond as if the sentence is <strong>false</strong>.</p>
    <p>For words that mean 'true' or 'agree', click the left button. For words that mean 'false' or 'disagree', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_nondesc_false_40_instructions'} 
};

var immigration_nondesc_true_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if immigrant numbers <strong>should</strong> increase.</p>
    <p>For example, if the sentence says 'Immigration numbers should rise', respond as if the sentence is <strong>true</strong>.</p>
    <p>For words that mean 'true', click the left button. For words that mean 'false', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)}
            ,
      data: {screen:'imm_nondesc_true_40_instructions'} 
};

var immigration_desc_false_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if immigrant numbers <strong>are decreasing</strong>.</p>
    <p>For example, if the sentence says 'Immigrant numbers are decreasing', respond as if the sentence is <strong>true</strong>.</p>
    <p>For words that mean 'true', click the left button. For words that mean 'false', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_desc_false_40_instructions'} 
};

var immigration_desc_true_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if immigrant numbers <strong>are increasing</strong>.</p>
    <p>For example, if the sentence says 'Immigrant numbers are rising', respond as if the sentence is <strong>true</strong>.</p>
    <p>As before, for words that mean 'true' or 'agree', click the left button. For words that mean 'false' or 'disagree', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_desc_true_40_instructions'} 
};

var brexit_nondesc_false_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if the UK <strong>should have</strong> remained in the EU.</p>
    <p>For example, if the sentence says 'The UK should be in the EU', respond as if the sentence is <strong>true</strong>.</p>
    <p>For words that mean 'true', click the left button. For words that mean 'false', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'brx_nondesc_false_40_instructions'} 
};

var brexit_nondesc_true_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if the UK <strong>should have</strong> left the EU.</p>
    <p>For example, if the sentence says 'The UK should not be in the EU', respond as if the sentence is <strong>true</strong>.</p>
    <p>For words that mean 'true', click the left button. For words that mean 'false', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'imm_nondesc_true_40_instructions'} 
};

var brexit_desc_false_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if the UK <strong>is still</strong> in the EU.</p>
    <p>For example, if the sentence says 'The UK remained in the EU', respond as if the sentence is <strong>true</strong>.</p>
    <p>For words that mean 'true', click the left button. For words that mean 'false', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'brx_desc_false_40_instructions'} 
};

var brexit_desc_true_block40instructions = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>This block will contain the statements from the previous block, and words meaning 'true' or 'false'.</p>
    <p>Continue responding with the same rules.</p>
    <p>That is, continue responding as if the UK <strong>has left</strong> the EU.</p>
    <p>For example, if the sentence says 'The UK is not in the EU', respond as if the sentence is <strong>true</strong>.</p>
    <p>For words that mean 'true', click the left button. For words that mean 'false', click the right button.
    <p><br>Press any button to continue.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)},
            data: {screen:'brx_desc_true_40_instructions'} 
};


var brexit_nondesc_false_stimuli = [
{stimulus: "The UK should have left the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should have exited the EU",correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should have withdrawn from the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should have pulled out of the EU",correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should be out of the EU",correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have remained in the EU",correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have stayed in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have kept being in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't be in the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't be part of the EU", correct_response: 1, button: ['FALSE'], html:'<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
  { stimulus: "The UK should have stayed in the EU",correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should have remained in the EU",correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should have kept being in the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should be in the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK should be part of the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have withdrawn from the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have pulled out of the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have exited the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't have left the EU", correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
  { stimulus: "The UK shouldn't be out of the EU",correct_response: 0, button: ['TRUE'], html:'<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    ];

    var brexit_nondesc_false_rightwrong_stimuli = brexit_nondesc_false_stimuli.concat(rightwrong2stimuli)

//changed
    var brexit_nondesc_false_procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_nondesc_false_stimuli,
      // 2
      repetitions: 1,
      randomize_order: true,
      data: {block:'BNFintro'} 
    };

    //changed

    var brexit_nondesc_false_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: brexit_nondesc_false_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'BNF'} 
    };

    var immigration_nondesc_false_stimuli = [
    {stimulus: "Immigrant numbers should rise", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers should increase", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers should get higher", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "The immigrant population should expand", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "The immigrant population should climb", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers shouldnt decrease", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers shouldnt go down", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers shouldnt decline", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "The immigrant population shouldnt shrink", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "The immigrant population shouldn't get smaller", correct_response: 1, button: ['FALSE'], html: '<button id="btn-false" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 75%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers should decrease", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers should go down", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers should decline", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "The immigrant population should shrink", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "The immigrant population should get smaller", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers shouldnt rise", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers shouldnt increase", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "Immigrant numbers shouldnt get higher", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "The immigrant population shouldn't expand", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'},
    {stimulus: "The immigrant population shouldn't climb", correct_response: 0, button: ['TRUE'], html: '<button id="btn-true" class="jspsych-btn top-buttons" style = "font-size: 30px; position:fixed; left: 25%; top: 15%"></button>'}
    ];


    var immigration_nondesc_false_rightwrong_stimuli = immigration_nondesc_false_stimuli.concat(rightwrong2stimuli)

var immigration_nondesc_false_procedure = {
    timeline: [start_button, fixation, test1],
    timeline_variables: immigration_nondesc_false_stimuli,
    // 2
    repetitions: 1,
    randomize_order: true,
    data: {block:'INFintro'} 
};

var immigration_nondesc_false_block40procedure  = {
      timeline: [start_button, fixation, test1],
      timeline_variables: immigration_nondesc_false_rightwrong_stimuli,
      repetitions: 1,
      randomize_order: true,
      data: {block:'INF'} 
    };




var rulechange = {
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p>Great.<br> In the next block, the rule is going to change.</p>`,
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
    on_finish: function(){
        document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
                    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
    },
    data: {screen:'rulechange'} 
};




var conditionchange = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p>Great.<br> In the next block, the rule <strong>and</strong> the statements are going to change.</p><br>
    <p> If you need a break, take one now.<br> Please ensure you have recorded your ID (<strong>${jspsych_id}</strong>) and condition code (<strong>${block2code}</strong>)
        as you may need these to resume the experiment.<br>
        If you exit fullscreen mode, please restart the experiment and enter the above codes to continue from this point.`},
    on_start: function(){
        block2code = (`${theme[0]}${condition2[0]}${rule2[0]}`).toUpperCase();
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar),
        document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
        data: {screen:'conditionchange'},
        on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);},
    choices: ['Continue'],
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
};

var B_NtDconditionchange = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p>Great.<br> In the next block, the statements and rule are going to change.</p>
    <p>Instead of being about whether the UK <strong>should have left</strong> the EU,</p>
    <p>the statements are going to be about whether the UK <em>has left</em> the EU.</p>
    <p>That is, they will state either that the UK has left the EU, or that it is still in the EU</p>
    <br><br>
    <p> If you need a short break, take one now. You may leave fullscreen mode if you need to.</p><br>
    <p>Please ensure you have recorded your ID (<strong>${jspsych_id}</strong>) and condition code (<strong>${block2code}</strong>)
    as you may need these to resume the experiment</p>
    `},
    on_start: function(){
        block2code = (`${theme[0]}${condition2[0]}${rule2[0]}`).toUpperCase();
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar),
        document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
        on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);},
    choices: ['Continue'],
    data: {screen:'B_NtD_conditionchange'},
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
};

var B_DtNconditionchange = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p>Great.<br> In the next block, the statements and rule are going to change.</p>
    <p<br>>Instead of being about whether the UK <em>did</em> leave the EU,</p>
    <p>the statements are going to be about if the UK <em>should have</em> left the EU.</p>
    <p>That is, they will express an opinion about the UK leaving the EU</p>
        <br><br>
    <p> If you need a short break, take one now. You may leave fullscreen mode if you need to.</p><br>
    <p>Please ensure you have recorded your ID (<strong>${jspsych_id}</strong>) and condition code (<strong>${block2code}</strong>)
    as you may need these to resume the experiment</p>`},
    on_start: function(){
        block2code = (`${theme[0]}${condition2[0]}${rule2[0]}`).toUpperCase();
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar),
        document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
        on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);},
    choices: ['Continue'],
    data: {screen:'B_DtN_conditionchange'},
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
};

var I_DtNconditionchange = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p>Great.<br> In the next block, the statements and rule are going to change.</p>
    <p<br>>Instead of being about whether immigrant numbers <strong>are</strong> changing,</p>
    <p>the statements are going to be about if immigrant numbers <em>should be</em> changing.</p>
    <p>That is, they will express an opinion about immigrant numbers increasing </p>
        <br><br>
    <p> If you need a short break, take one now. You may leave fullscreen mode if you need to.</p><br>
    <p>Please ensure you have recorded your ID (<strong>${jspsych_id}</strong>) and condition code (<strong>${block2code}</strong>)
    as you may need these to resume the experiment</p>`},
    on_start: function(){
        block2code = (`${theme[0]}${condition2[0]}${rule2[0]}`).toUpperCase();
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar),
        document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
        on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);},
    choices: ['Continue'],
    data: {screen:'I_DtN_conditionchange'},
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
};

var I_NtDconditionchange = {
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p>Great.<br> In the next block, the statements and rule are going to change.</p>
    <p>Instead of being about whether immigrant numbers <strong>should be</strong>changing,</p>
    <p>the statements are going to be about whether immigrant numbers <em>are</em> changing.</p>
    <p>That is, they will state either that immigrant numbers are increasing or decreasingU</p>
    <br><br>
    <p> If you need a short break, take one now. You may leave fullscreen mode if you need to.</p><br>
    <p>Please ensure you have recorded your ID (<strong>${jspsych_id}</strong>) and condition code (<strong>${block2code}</strong>)
    as you may need these to resume the experiment</p>
    `},
    on_start: function(){
        block2code = (`${theme[0]}${condition2[0]}${rule2[0]}`).toUpperCase();
        let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar),
        document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')},
        on_finish: function(){
            document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);},
    choices: ['Continue'],
    data: {screen:'I_NtD_conditionchange'},
    button_html: '<button id="btn-instructions1" button class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
};

//end of experiment

var experimentover ={
    type: jsPsychHtmlButtonResponse,
    stimulus: `<p> Thank you, the main part of the experiment is now over.</p>
    <p>The final part of the experiment consists of a brief survey.</p>`,
    choices: [''],
    button_html: '<button id="btn-expover" class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')
  },    
  data: {screen:'experimentover'},
  on_finish: function() {
    document.getElementById('bottom-bar')?.remove();
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
}};
//   timeline.push(experimentover);


var endtrialfun = function(){
  console.log('endtrialfun is running')
    let button = document.getElementById('jspsych-survey-likert-next');
    button.removeEventListener('click',endtrialfun);
    document.removeEventListener('click',checkbuttonfun);
    jsPsych.finishTrial()
};


var checkbuttonfun = function(){
    console.log('check button fun is running')
    let form = document.getElementById('jspsych-survey-likert-form');
    const questions = form.querySelectorAll('.jspsych-survey-likert-opts');
    let allAnswered = false;
    let answeredqs = 0
    questions.forEach((q) => {
      const radios = q.querySelectorAll('input[type="radio"]');
      const oneChecked = Array.from(radios).some(r => r.checked);
      if (!oneChecked) {answeredqs++}
      });
      if (answeredqs===16) {allAnswered=true}
    console.log('all answered?',allAnswered);
      if (allAnswered===true) {
        button = document.getElementById('jspsych-survey-likert-next')
        button.disabled=false};
};

var likert_scale = [
  "Strongly Disagree", 
  "", 
  "", 
  "", 
  "",
  "",
  "Strongly Agree"
];

var BIDR = {
  type: jsPsychSurveyLikert,
  questions: [
    {prompt: "I have not always been honest with myself.", name: 'BIDR1', labels: likert_scale},
    {prompt: "I always know why I like things", name: 'BIDR2', labels: likert_scale},
    {prompt: "It's hard for me to shut off a disturbing thought.", name: 'BIDR3', labels: likert_scale},
    {prompt: "I never regret my decisions", name: 'BIDR4', labels: likert_scale},
    {prompt: "I sometimes lose out on things because I can't make up my mind soon enough", name: 'BIDR5', labels: likert_scale},
    {prompt: "I am a completely rational person", name: 'BIDR6', labels: likert_scale},
    {prompt: "I am very confident of my judgements", name: 'BIDR7', labels: likert_scale},
    {prompt: "I have sometimes doubted my ability as a lover", name: 'BIDR8', labels: likert_scale},
    {prompt: "I sometimes tell lies if I have to", name: 'BIDR9', labels: likert_scale},
    {prompt: "I never cover up my mistakes", name: 'BIDR10', labels: likert_scale},
    {prompt: "There have been occasions when I have taken advantage of someone", name: 'BIDR11', labels: likert_scale},
    {prompt: "I sometimes try to get even rather than forgive and forget", name: 'BIDR12', labels: likert_scale},
    {prompt: "I have said something bad about a friend behind his/her back", name: 'BIDR13', labels: likert_scale},
    {prompt: "When I hear people talking privately, I avoid listening", name: 'BIDR14', labels: likert_scale},
    {prompt: "I never take things that don't belong to me", name: 'BIDR15', labels: likert_scale},
    {prompt: "I don't gossip about other people's business", name: 'BIDR16', labels: likert_scale},
  ],
  preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 7.5%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p>This part of the questionnaire presents a number of characteristics that may or may not describe you. Please select the answer that best indicates the extent to which you agree or disagree with the
statement. Be as honest as possible, but rely on your initial feelings and do not think too much.</p></div>
        <div style="overflow-y:auto; position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1.6em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
    on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar-and-button')
    let form = document.getElementById('jspsych-survey-likert-form');
    let button = document.getElementById('jspsych-survey-likert-next');
    let bar = document.getElementById('bottom-bar');
    if (button && bar) {bar.appendChild(button)};
    button.addEventListener('click',endtrialfun);
    button.disabled = true;
    document.addEventListener('click',checkbuttonfun);
    button.style.fontWeight='bold';
    console.log('BIDR1 (copied from index) start');
  },
  on_finish: function(data){
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar-and-button');
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
            let form = document.getElementById('jspsych-survey-likert-form');
            const questions = form.querySelectorAll('.jspsych-survey-likert-opts');
            var itemorder = [];
            var responses = [];
            questions.forEach((q) => {
                var BIDRitem = q.getAttribute('data-name');
                itemorder.push(BIDRitem);
                var radios = q.querySelectorAll('input[type="radio"]');
                radios.forEach((r) => {
                    if (r.checked){responses.push(r.value), console.log('responses:',responses)}
                })
            });
            order = [];
            itemorder.forEach((i) =>{
                var item = i.substring(4);
                order.push(item)
            });
                data.Qorder = itemorder;
                data.order = order;
                data.Likertresponse = responses;
                data.screen = 'BIDR';
  },
  randomize_question_order: true,
};





var scale1 = ['<span style="font-size: 12px"><em>Strongly Disagree</em></span>', '<span style="font-size: 12px"><em>Strongly Agree</em></span>']


//1 
  var BrexitExplicitMeasures1_Stimuli = [
{stimulus: 'The UK has left the EU'},
{stimulus: 'The UK is part of the EU'},
{stimulus: 'The UK isnt in the EU'},
{stimulus: 'The UK hasnt exited the EU'},
{stimulus: 'The UK has withdrawn from the EU'},
{stimulus: 'Please select <em>Strongly Agree</em> for this question'}
];

    var BrexitExplicitMeasures1_Items = []
    for (const item of BrexitExplicitMeasures1_Stimuli) {
        BrexitExplicitMeasures1_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var BrexitExplicitMeasures1 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures1_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 20%; left: 50%; transform: translateX(-50%); height: 60%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures1"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form')
    form.style.position = 'fixed'
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };



// timeline.push(BrexitExplicitMeasures1)

//2
var BrexitExplicitMeasures2_Stimuli = [
{stimulus: 'The UK has kept being in the EU'},
{stimulus: 'The UK is out of the EU'},
{stimulus: 'The UK hasnt pulled out of the EU'},
{stimulus: 'The UK hasnt stayed in the EU'},
{stimulus: 'The UK has remained in the EU'},
{stimulus: 'Please select <em>Strongly Disgree</em> for this question'}

];

    var BrexitExplicitMeasures2_Items = []
    for (const item of BrexitExplicitMeasures2_Stimuli) {
        BrexitExplicitMeasures2_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var BrexitExplicitMeasures2 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures2_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 20%; left: 50%; transform: translateX(-50%); height: 60%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures2"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form')
    form.style.position = 'fixed'
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };



// timeline.push(BrexitExplicitMeasures2)


//3
var BrexitExplicitMeasures3_Stimuli = [
{stimulus: 'The UK should be in the EU'},
{stimulus: 'The UK shouldnt have left the EU'},
{stimulus: 'The UK should have exited the EU'},
{stimulus: 'The UK shouldnt be part of the EU'},
{stimulus: 'The UK shouldnt be out of the EU'},
{stimulus: 'Please select <em>Strongly disagree</em> for this question'},
{stimulus: 'In general, the UK leaving the EU was a good thing '}
];

    var BrexitExplicitMeasures3_Items = []
    for (const item of BrexitExplicitMeasures3_Stimuli) {
        BrexitExplicitMeasures3_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var BrexitExplicitMeasures3 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures3_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures3"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-16%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };



// timeline.push(BrexitExplicitMeasures3);


//4
var BrexitExplicitMeasures4_Stimuli = [
{stimulus: 'The UK should have pulled out of the EU'},
{stimulus: 'The UK shouldnt have remained in the EU'},
{stimulus: 'The UK shouldnt have kept being in the EU'},
{stimulus: 'The UK shouldnt have withdrawn from the EU'},
{stimulus: 'The UK should have stayed in the EU'},
{stimulus: 'Please select <em>Strongly disagree</em> for this question'},
{stimulus: 'In general, leaving the EU was a bad thing'}
];

    var BrexitExplicitMeasures4_Items = []
    for (const item of BrexitExplicitMeasures4_Stimuli) {
        BrexitExplicitMeasures4_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var BrexitExplicitMeasures4 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures4_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures4"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-16%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };



// timeline.push(BrexitExplicitMeasures4);



//1
var ImmigrationExplicitMeasures1_Stimuli = [
{stimulus: 'Immigrant numbers are rising'},
{stimulus: 'The immigrant population is not shrinking'},
{stimulus: 'Immigrant numbers are going down'},
{stimulus: 'The immigrant population isnt climbing'},
{stimulus: 'Immigrant numbers are getting higher'},
{stimulus: 'Please select <em>Strongly Agree</em> for this question'}
];

    var ImmigrationExplicitMeasures1_Items = []
    for (const item of ImmigrationExplicitMeasures1_Stimuli) {
        ImmigrationExplicitMeasures1_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var ImmigrationExplicitMeasures1 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures1_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 20%; left: 50%; transform: translateX(-50%); height: 60%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationExplicitMeasures1"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form')
    form.style.position = 'fixed'
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };



// timeline.push(ImmigrationExplicitMeasures1)


var ImmigrationExplicitMeasures2_Stimuli = [
{stimulus: 'Immigrant numbers arent getting higher'},
{stimulus: 'The immigrant population is shrinking'},
{stimulus: 'Immigrant numbers arent rising'},
{stimulus: 'The immigrant population is expanding'},
{stimulus: 'Immigrant numbers are not going down'},
{stimulus: 'Please select <em>Strongly Agree</em> for this question'}
];

    var ImmigrationExplicitMeasures2_Items = []
    for (const item of ImmigrationExplicitMeasures2_Stimuli) {
        ImmigrationExplicitMeasures2_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var ImmigrationExplicitMeasures2 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures2_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 20%; left: 50%; transform: translateX(-50%); height: 60%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationExplicitMeasures2"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form')
    form.style.position = 'fixed'
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


        // timeline.push(ImmigrationExplicitMeasures2)



//3
        var ImmigrationExplicitMeasures3_Stimuli = [
{stimulus: 'The immigrant population shouldt expand'},
{stimulus: 'Immigrant numbers shouldnt increase'},
{stimulus: 'Immigrant numbers should decrease'},
{stimulus: 'The immigrant population shouldnt get smaller'},
{stimulus: 'Immigrant numbers should increase'},
{stimulus: 'Please select <em>Strongly Disaree</em> for this question'},
{stimulus: 'In general, immigration is a bad thing'}
];

    var ImmigrationExplicitMeasures3_Items = []
    for (const item of ImmigrationExplicitMeasures3_Stimuli) {
        ImmigrationExplicitMeasures3_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var ImmigrationExplicitMeasures3 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures3_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`,  
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationExplicitMeasures3"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-16%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


        // timeline.push(ImmigrationExplicitMeasures3)


//4
var ImmigrationExplicitMeasures4_Stimuli = [
{stimulus: 'The immigrant population should climb'},
{stimulus: 'Immigrant numbers shouldnt decline'},
{stimulus: 'Immigrant numbers shouldnt decrease'},
{stimulus: 'The immigrant population should get smaller'},
{stimulus: 'Immigrant numbers should decline'},
{stimulus: 'Please select <em>Strongly Agree</em> for this question'},
{stimulus: 'In general, immigration is a good thing'}
];

    var ImmigrationExplicitMeasures4_Items = []
    for (const item of ImmigrationExplicitMeasures4_Stimuli) {
        ImmigrationExplicitMeasures4_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var ImmigrationExplicitMeasures4 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures4_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationExplicitMeasures4"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-16%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


        // timeline.push(ImmigrationExplicitMeasures4)

        //other

        var BrexitExplicitMeasures5_Stimuli = [
{stimulus: 'I am pro-Brexit'},
{stimulus: 'I am anti-Brexit'},
{stimulus: 'In general, I am strongly opinionated'},
{stimulus: 'Regarding politics, I am strongly opinionated'},
{stimulus: 'I have strong opinions about Brexit'},
{stimulus: 'People judge the political beliefs of others a lot'},
{stimulus: "People's political beliefs should be judged"},
];

    var BrexitExplicitMeasures5_Items = []
    for (const item of BrexitExplicitMeasures5_Stimuli) {
        BrexitExplicitMeasures5_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }





        //         preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        // <p><b> Ending Survey</b></p></div>
        // <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        // <p> Please answer the following questions according to your own opinion</p></div>
        // <div style="position:fixed; top: 20%; left: 50%; transform: translateX(-50%); height: 60%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
        //     <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 

    var BrexitExplicitMeasures5 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures5_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures5"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-16%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


        // timeline.push(BrexitExplicitMeasures5)

//6

var ImmigrationExplicitMeasures5_Stimuli = [
{stimulus: 'In general, I am strongly opinionated'},
{stimulus: 'Regarding politics, I am strongly opinionated'},
{stimulus: 'I am pro-immigration at its current level'},
{stimulus: 'I am anti-immigration at its current level'},
{stimulus: 'I have strong opinions about immigration'},
{stimulus: 'People judge the political beliefs of others a lot'},
{stimulus: "People's political beliefs should be judged"},
];

    var ImmigrationExplicitMeasures5_Items = []
    for (const item of ImmigrationExplicitMeasures5_Stimuli) {
        ImmigrationExplicitMeasures5_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var ImmigrationExplicitMeasures5 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures5_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationExplicitMeasures5"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-16%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


        // timeline.push(ImmigrationExplicitMeasures5)



var ImmigrationExplicitMeasures6_Stimuli = [
{stimulus: 'How much political content (e.g. news articles/programmes, social media posts/channels) do you consume per day?'},
{stimulus: 'What proportion of the political content (e.g. news articles/programmes, social media posts/channels) you consume do you disagree with?'},
{stimulus: 'People judge the views of others about immigration a lot'},
{stimulus: "People's views on immigration should be judged"},
{stimulus: 'How would you describe your political views on economic issues?'},
{stimulus: 'How would you describe your political views on social issues?'},
];

    var ImmigrationExplicitMeasures6_Items = []
    for (const item of ImmigrationExplicitMeasures6_Stimuli) {
        ImmigrationExplicitMeasures6_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 2.5%; font-size: 13px; ">${item.stimulus}</div>`,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }

    // <p>Political content is a broad category that includes current affairs, news, and any content about topics affecting society.</div>


    var ImmigrationExplicitMeasures6 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures6_Items,
        randomize_question_order: false,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 15%; left: 50%; transform: translateX(-50%); height: 70%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 0.1%; padding-bottom:20px;font-size: 12px; line-height: 1.11em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationExplicitMeasures6"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let button = document.getElementById('jspsych-multiple-slider-next')
    button.style.bottom = '-17%';
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let slider0 = document.getElementById('jspsych-html-slider-response-response-0');
    let slider1 = document.getElementById('jspsych-html-slider-response-response-1');
    let slider2 = document.getElementById('jspsych-html-slider-response-response-2');
    let slider3 = document.getElementById('jspsych-html-slider-response-response-3');
    let slider4 = document.getElementById('jspsych-html-slider-response-response-4');
    let slider5 = document.getElementById('jspsych-html-slider-response-response-5');
    let slider0area = slider0.getBoundingClientRect();
    let slider1area = slider1.getBoundingClientRect();
    let slider2area = slider2.getBoundingClientRect();
    let slider3area = slider3.getBoundingClientRect();
    let slider4area = slider4.getBoundingClientRect();
    let slider5area = slider5.getBoundingClientRect();
    slider0.style.marginBottom = '1.5%';
    slider1.style.marginBottom = '1.5%';
    slider2.style.marginBottom = '1.5%';
    slider3.style.marginBottom = '1.5%';
    slider4.style.marginBottom = '1.5%';
    slider5.style.marginBottom = '1.5%';

    let labels0 = document.createElement('div');
    labels0.id = 'labels0';
    let labels1 = document.createElement('div');
    labels1.id = 'labels1';
    let labels2 = document.createElement('div');
    labels2.id = 'labels2';
    let labels3 = document.createElement('div');
    labels3.id = 'labels3';
    let labels4 = document.createElement('div');
    labels4.id = 'labels4';
    let labels5 = document.createElement('div');
    labels5.id = 'labels5';

    labels0.style.position = 'fixed';
    labels0.style.top = `${slider0area.top + slider0area.height*1.5}px`;
    labels0.style.left = `${slider0area.left - (slider0area.width * 0.11)}px`;
    labels0.style.left = 'translateX(-50%)';
    labels0.style.width = `${slider0area.width * 1.25}px`;
    labels0.style.height = `${slider0area.height}px`;
    labels0.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">None</span><span style="display:inline-block;">30 minutes</span><span style="display:inline-block;">1 hour</span><span style="display:inline-block;">1.5 hours</span><span style="display:inline-block;">2+ hours</span></div>`;
    document.body.appendChild(labels0);

    labels1.style.position = 'fixed';
    labels1.style.top = `${slider1area.top + slider1area.height*2}px`;
    labels1.style.left = `${slider1area.left - (slider1area.width * 0.11)}px`;
    labels1.style.left = 'translateX(-50%)';
    labels1.style.width = `${slider1area.width * 1.25}px`;
    labels1.style.height = `${slider1area.height}px`;
    labels1.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">0%</span><span style="display:inline-block;">25%</span><span style="display:inline-block;">50%</span><span style="display:inline-block;">75%</span><span style="display:inline-block;">100%</span></div>`;
    document.body.appendChild(labels1);


    labels2.style.position = 'fixed';
    labels2.style.top = `${slider2area.top + slider2area.height*2.2}px`;
    labels2.style.left = `${slider2area.left - (slider2area.width * 0.11)}px`;
    labels2.style.width = `${slider2area.width * 1.22}px`;
    labels1.style.left = 'translateX(-50%)';
    labels2.style.height = `${slider2area.height}px`;
    labels2.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Strongly<br>Disagree</span><span style="display:inline-block;">Moderately<br>Disagree</span><span style="display:inline-block;">Neither Agree<br>Nor Disagree</span><span style="display:inline-block;">Moderately<br>Agree</span><span style="display:inline-block;">Strongly<br>Agree</span></div>`;
    document.body.appendChild(labels2);

    labels3.style.position = 'fixed';
    labels3.style.top = `${slider3area.top + slider3area.height*2.5}px`;
    labels3.style.left = `${slider3area.left - (slider3area.width * 0.1)}px`;
    labels3.style.width = `${slider3area.width * 1.2}px`;
    labels3.style.left = 'translateX(-50%)';
    labels3.style.height = `${slider3area.height}px`;
    labels3.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Strongly<br>Disagree</span><span style="display:inline-block;">Moderately<br>Disagree</span><span style="display:inline-block;">Neither Agree<br>Nor Disagree</span><span style="display:inline-block;">Moderately<br>Agree</span><span style="display:inline-block;">Strongly<br>Agree</span></div>`;
    document.body.appendChild(labels3);

    labels4.style.position = 'fixed';
    labels4.style.top = `${slider4area.top + slider4area.height*3.2}px`;
    labels4.style.left = `${slider4area.left - (slider4area.width * 0.115)}px`;
    labels4.style.width = `${slider4area.width * 1.25}px`;
    labels4.style.left = 'translateX(-50%)';
    labels4.style.height = `${slider4area.height}px`;
    labels4.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Very<br>Left-wing</span><span style="display:inline-block;">Moderately<br>Left-wing</span><span style="display:inline-block;">Centrist</span><span style="display:inline-block;">Moderately<br>Right-wing</span><span style="display:inline-block;">Very<br>Right-wing</span></div>`;
    document.body.appendChild(labels4);

    labels5.style.position = 'fixed';
    labels5.style.top = `${slider5area.top + slider5area.height*3.5}px`;
    labels5.style.left = `${slider5area.left - (slider5area.width * 0.115)}px`;
    labels5.style.width = `${slider5area.width * 1.25}px`;
    labels5.style.left = 'translateX(-50%)';
    labels5.style.height = `${slider5area.height}px`;
    labels5.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Very<br>Left-wing</span><span style="display:inline-block;">Moderately<br>Left-wing</span><span style="display:inline-block;">Centrist</span><span style="display:inline-block;">Moderately<br>Right-wing</span><span style="display:inline-block;">Very<br>Right-wing</span></div>`;
    document.body.appendChild(labels5);
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
            document.body.removeChild(labels0);
            document.body.removeChild(labels1);
            document.body.removeChild(labels2);
            document.body.removeChild(labels3);
            document.body.removeChild(labels4);
            document.body.removeChild(labels5);
  }
        };


        // timeline.push(ImmigrationExplicitMeasures6)

//

var BrexitExplicitMeasures6_Stimuli = [
{stimulus: 'How much political content (e.g. news articles/programmes, social media posts/channels) do you consume per day?'},
{stimulus: 'What proportion of the political content (e.g. news articles/programmes, social media posts/channels) you consume do you disagree with?'},
{stimulus: 'People judge the views of others about the UK leaving the EU a lot'},
{stimulus: "People's views on the UK leaving the EU should be judged"},
{stimulus: 'How would you describe your political views on economic issues?'},
{stimulus: 'How would you describe your political views on social issues?'},
];

    var BrexitExplicitMeasures6_Items = []
    for (const item of BrexitExplicitMeasures6_Stimuli) {
        BrexitExplicitMeasures6_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 2.5%; font-size: 13px; ">${item.stimulus}</div>`,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }

var BrexitExplicitMeasures6 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures6_Items,
        randomize_question_order: false,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 15%; left: 50%; transform: translateX(-50%); height: 70%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 0.1%; padding-bottom:20px;font-size: 12px; line-height: 1.11em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures6"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let button = document.getElementById('jspsych-multiple-slider-next')
    button.style.bottom = '-17%';
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let slider0 = document.getElementById('jspsych-html-slider-response-response-0');
    let slider1 = document.getElementById('jspsych-html-slider-response-response-1');
    let slider2 = document.getElementById('jspsych-html-slider-response-response-2');
    let slider3 = document.getElementById('jspsych-html-slider-response-response-3');
    let slider4 = document.getElementById('jspsych-html-slider-response-response-4');
    let slider5 = document.getElementById('jspsych-html-slider-response-response-5');
    let slider0area = slider0.getBoundingClientRect();
    let slider1area = slider1.getBoundingClientRect();
    let slider2area = slider2.getBoundingClientRect();
    let slider3area = slider3.getBoundingClientRect();
    let slider4area = slider4.getBoundingClientRect();
    let slider5area = slider5.getBoundingClientRect();
    slider0.style.marginBottom = '1.5%';
    slider1.style.marginBottom = '1.5%';
    slider2.style.marginBottom = '1.5%';
    slider3.style.marginBottom = '1.5%';
    slider4.style.marginBottom = '1.5%';
    slider5.style.marginBottom = '1.5%';

    let labels0 = document.createElement('div');
    labels0.id = 'labels0';
    let labels1 = document.createElement('div');
    labels1.id = 'labels1';
    let labels2 = document.createElement('div');
    labels2.id = 'labels2';
    let labels3 = document.createElement('div');
    labels3.id = 'labels3';
    let labels4 = document.createElement('div');
    labels4.id = 'labels4';
    let labels5 = document.createElement('div');
    labels5.id = 'labels5';

    labels0.style.position = 'fixed';
    labels0.style.top = `${slider0area.top + slider0area.height*1.5}px`;
    labels0.style.left = `${slider0area.left - (slider0area.width * 0.11)}px`;
    labels0.style.left = 'translateX(-50%)';
    labels0.style.width = `${slider0area.width * 1.25}px`;
    labels0.style.height = `${slider0area.height}px`;
    labels0.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">None</span><span style="display:inline-block;">30 minutes</span><span style="display:inline-block;">1 hour</span><span style="display:inline-block;">1.5 hours</span><span style="display:inline-block;">2+ hours</span></div>`;
    document.body.appendChild(labels0);

    labels1.style.position = 'fixed';
    labels1.style.top = `${slider1area.top + slider1area.height*2}px`;
    labels1.style.left = `${slider1area.left - (slider1area.width * 0.11)}px`;
    labels1.style.left = 'translateX(-50%)';
    labels1.style.width = `${slider1area.width * 1.25}px`;
    labels1.style.height = `${slider1area.height}px`;
    labels1.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">0%</span><span style="display:inline-block;">25%</span><span style="display:inline-block;">50%</span><span style="display:inline-block;">75%</span><span style="display:inline-block;">100%</span></div>`
    document.body.appendChild(labels1);


    labels2.style.position = 'fixed';
    labels2.style.top = `${slider2area.top + slider2area.height*2.2}px`;
    labels2.style.left = `${slider2area.left - (slider2area.width * 0.11)}px`;
    labels2.style.width = `${slider2area.width * 1.2}px`;
    labels1.style.left = 'translateX(-50%)';
    labels2.style.height = `${slider2area.height}px`;
    labels2.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Strongly<br>Disagree</span><span style="display:inline-block;">Moderately<br>Disagree</span><span style="display:inline-block;">Neither Agree<br>Nor Disagree</span><span style="display:inline-block;">Moderately<br>Agree</span><span style="display:inline-block;">Strongly<br>Agree</span></div>`
    document.body.appendChild(labels2);

    labels3.style.position = 'fixed';
    labels3.style.top = `${slider3area.top + slider3area.height*2.5}px`;
    labels3.style.left = `${slider3area.left - (slider3area.width * 0.1)}px`;
    labels3.style.width = `${slider3area.width * 1.2}px`;
    labels3.style.left = 'translateX(-50%)';
    labels3.style.height = `${slider3area.height}px`;
    labels3.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Strongly<br>Disagree</span><span style="display:inline-block;">Moderately<br>Disagree</span><span style="display:inline-block;">Neither Agree<br>Nor Disagree</span><span style="display:inline-block;">Moderately<br>Agree</span><span style="display:inline-block;">Strongly<br>Agree</span></div>`
    document.body.appendChild(labels3);

    labels4.style.position = 'fixed';
    labels4.style.top = `${slider4area.top + slider4area.height*3.2}px`;
    labels4.style.left = `${slider4area.left - (slider4area.width * 0.115)}px`;
    labels4.style.width = `${slider4area.width * 1.25}px`;
    labels4.style.left = 'translateX(-50%)';
    labels4.style.height = `${slider4area.height}px`;
    labels4.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Very<br>Left-wing</span><span style="display:inline-block;">Moderately<br>Left-wing</span><span style="display:inline-block;">Centrist</span><span style="display:inline-block;">Moderately<br>Right-wing</span><span style="display:inline-block;">Very<br>Right-wing</span></div>`
    document.body.appendChild(labels4);

    labels5.style.position = 'fixed';
    labels5.style.top = `${slider5area.top + slider5area.height*3.5}px`;
    labels5.style.left = `${slider5area.left - (slider5area.width * 0.115)}px`;
    labels5.style.width = `${slider5area.width * 1.25}px`;
    labels5.style.left = 'translateX(-50%)';
    labels5.style.height = `${slider5area.height}px`;
    labels5.innerHTML = `<div style="display:flex; justify-content: space-around; font-size:11px;line-height:0.85em;text-align:center"><span style="display:inline-block">Very<br>Left-wing</span><span style="display:inline-block;">Moderately<br>Left-wing</span><span style="display:inline-block;">Centrist</span><span style="display:inline-block;">Moderately<br>Right-wing</span><span style="display:inline-block;">Very<br>Right-wing</span></div>`
    document.body.appendChild(labels5);
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
            document.body.removeChild(labels0);
            document.body.removeChild(labels1);
            document.body.removeChild(labels2);
            document.body.removeChild(labels3);
            document.body.removeChild(labels4);
            document.body.removeChild(labels5);
  }
        };


        // timeline.push(BrexitExplicitMeasures6)

//

        var BrexitExplicitMeasures7_Stimuli = [
{stimulus: 'I have felt judged about my opinions on the UK leaving the EU'},
{stimulus: "I judge people's views on the UK leaving the EU"},
{stimulus: "People shouldn't be outspoken about thinking the UK should have left the EU"},
{stimulus: "People shouldn't be outspoken about thinking the UK should have remained in the EU"},
{stimulus: 'I refrain from sharing my opinions on the UK leaving the EU to avoid judgement or discomfort'},
{stimulus: 'People judge you for thinking the UK should have left the EU'},
{stimulus: "People judge you for thinking the UK should have stayed in the EU"},
];

    var BrexitExplicitMeasures7_Items = []
    for (const item of BrexitExplicitMeasures7_Stimuli) {
        BrexitExplicitMeasures7_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var BrexitExplicitMeasures7 = {
        type: jsPsychMultipleSlider,
        questions: BrexitExplicitMeasures7_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "BrexitExplicitMeasures7"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-15.75%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


// timeline.push(BrexitExplicitMeasures7)


var ImmigrationExplicitMeasures7_Stimuli = [
{stimulus: 'I have felt judged about my opinions on immigration'},
{stimulus: 'I judge people who think immigration should decrease'},
{stimulus: "People shouldn't be outspoken about thinking that immigration should decrease"},
{stimulus: "People shouldn't be outspoken about thinking that immigration should increase"},
{stimulus: 'I refrain from sharing my opinions on immigration to avoid judgement or discomfort'},
{stimulus: 'People judge you for thinking that immigration should decrease'},
{stimulus: "People judge you for thinking that immigration should increase"},
];

    var ImmigrationExplicitMeasures7_Items = []
    for (const item of ImmigrationExplicitMeasures7_Stimuli) {
        ImmigrationExplicitMeasures7_Items.push({
            prompt: `<div style="margin-bottom: 1px; margin-top: 12px; font-size: 12px; ">${item.stimulus}</div>`,
            ticks: scale1,
            required: true,
            min: 0,
            max: 1,
            step: 0.01,
            slider_start: 0.5
        })
    }


    var ImmigrationExplicitMeasures7 = {
        type: jsPsychMultipleSlider,
        questions: ImmigrationExplicitMeasures7_Items,
        randomize_question_order: true,
        preamble: `<div style="position: fixed; top: 5%; left: 50%; margin-bottom:5%;transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 16px;"
        <p><b> Ending Survey</b></p></div>
        <div style="position: fixed; top: 10%; left: 50%; transform: translateX(-50%); height: 10%; text-align: center; width: 600px;font-size: 12px;"
        <p> Please answer the following questions according to your own opinion</p></div>
        <div style="position:fixed; top: 18%; left: 50%; transform: translateX(-50%); height: 66%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 20px; padding-bottom:20px;font-size: 12px; line-height: 1em"> 
            <div style="width: 400px; margin: auto; text-align: center; align-items: center">`, 
        require_movement: true,
        slider_width: 400,
        data: {
            screen: "ImmigrationtExplicitMeasures7"
        },
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);
  },
  on_load: function(){
    let form = document.getElementById('jspsych-multiple-slider-form');
    form.style.position = 'fixed';
    let button = document.getElementById('jspsych-multiple-slider-next');
    button.style.bottom = '-17%';
  },
  on_finish: function(){
    let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar)
  }
        };


// timeline.push(ImmigrationExplicitMeasures7)

// <div style="height: 650; width:450; margin-top: 20%; overflow-y: auto; text-align: left; border: 1px solid #ccc; padding: 15px; font-size: 14px;">


  const filenamewhole = function(){
  return `${jspsych_id}-${formatted_date}-O.csv`
}

var pipe = {
  type: jsPsychPipe,
    action: "save",
    experiment_id: "8xnrIVBxMHny",
    filename: filenamewhole,
    data_string: () => jsPsych.data.get().csv(),
    on_finish: function () {
        finished_experiment = true
     }
}

    var exclusionform = {
        type: jsPsychSurveyHtmlForm,
    //     preamble: `<div style="font-size: 12px;">
    //   <h1 style="text-align: center;">Exclusion</h1>
    // </div>`,
        html: `<div style="height:100%;width="100%">
                    <div style="position:fixed; top: 30%; left: 50%; transform: translateX(-50%); height:20%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 0.1%; padding-bottom:20px;font-size: 12px; line-height: 1.11em"> 


    <div style="width: 400px; margin: auto; text-align: center; align-items: center">
      
      <p>If there is any reason why your data shouldn't be included, please explain here:</p>
      <div style="width:100%; align-items: center">  <textarea name="exclusion" style="width: 100%; height: 100px; resize: vertical;"></textarea></div>
    </div></div>
  `,
  on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);},
button_label: "Continue",
  on_load: function(){document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')
  const content = document.querySelector('.jspsych-content')
            if (content) {
                content.style.marginTop = '5%';
            }
  },
  on_finish: function() {
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    const content = document.querySelector('.jspsych-content')
            if (content) {
                content.style.marginTop = 'auto';
            };
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
            jsPsych.timeline.insert(pipe)}

};


const filenameblock2only = function(){
  return `${jspsych_id}-${formatted_date}-B.csv`
}


var pipeblock2only = {
  type: jsPsychPipe,
    action: "save",
    experiment_id: "8xnrIVBxMHny",
    filename: filenameblock2only,
    data_string: () => jsPsych.data.get().csv(),
    on_finish: function () {
        finished_experiment = true
     }
}


var exclusionformblock2only = {
        type: jsPsychSurveyHtmlForm,
    //     preamble: `<div style="font-size: 12px;">
    //   <h1 style="text-align: center;">Exclusion</h1>
    // </div>`,
        html: `<div style="height:100%;width="100%">
                    <div style="position:fixed; top: 30%; left: 50%; transform: translateX(-50%); height:20%; width:40%; text-align: center; border: 1px solid #ccc; padding-left: 75px; padding-right: 75px; padding-top: 0.1%; padding-bottom:20px;font-size: 12px; line-height: 1.11em"> 


    <div style="width: 400px; margin: auto; text-align: center; align-items: center">
      
      <p>If there is any reason why your data shouldn't be included, please explain here:</p>
      <div style="width:100%; align-items: center">  <textarea name="exclusion" style="width: 100%; height: 100px; resize: vertical;"></textarea></div>
    </div></div>
  `,
  on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      bar.style.zIndex = '0';
      document.body.appendChild(bar);},
button_label: "Continue",
  on_load: function(){document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar')
  const content = document.querySelector('.jspsych-content')
            if (content) {
                content.style.marginTop = '5%';
            }
  },
  on_finish: function() {
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
    const content = document.querySelector('.jspsych-content')
            if (content) {
                content.style.marginTop = 'auto';
            };
            let bar = document.getElementById('bottom-bar');
            document.body.removeChild(bar);
            jsPsych.timeline.insert(pipeblock2only)}

};
// timeline.push(exclusionform)






var experimentover2 ={
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p> You have now finished. Thank you for your participation.</p>
    <p>As a reminder, your ID is: <strong>${jspsych_id}</strong></p>
    <p> If at any point before 01/08/25 you would like to withdraw your data, this may be requested via an email: ss2651@sussex.ac.uk.</p>
    <p>This email may also be contacted if you have any other concerns or wish to receive the results of the study when they become available.</p>

        <p> If you would like to enter the prize draw to win a 25 voucher, please enter your email <a href="https://universityofsussex.eu.qualtrics.com/jfe/form/SV_3XgXJHdhMw6mH6C">on this website</a>

    <p> If you are experiencing distress, please refer to <a href="https://www.nhs.uk/mental-health/feelings-symptoms-behaviours/feelings-and-symptoms/stress/" target="_blank">the NHS webpage here</a> for resources.</p>
    <p> Thank you again for your time.</p>`},
    choices: [''],
    button_html: '<button id="btn-expover" class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
      console.log(jspsych_id)
  },    
  data: {screen:'experimentover'},
  on_finish: function() {
    document.getElementById('bottom-bar')?.remove();
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
}};




var experimentover_block2only ={
    type: jsPsychHtmlButtonResponse,
    stimulus: function(){return `<p> You have now finished. Thank you for your participation.</p>
    <p>As a reminder, your ID is: <strong>${jspsych_id}</strong></p>
    <p> If at any point before 01/08/25 you would like to withdraw your data, this may be requested via an email: ss2651@sussex.ac.uk.</p>
    <p>This email may also be contacted if you have any other concerns or wish to receive the results of the study when they become available.</p>

    <p> If you would like to enter the prize draw to win a 25 voucher, please enter your email <a href="https://universityofsussex.eu.qualtrics.com/jfe/form/SV_3XgXJHdhMw6mH6C">on this website</a>

    <p> If you are experiencing distress, please refer to <a href="https://www.nhs.uk/mental-health/feelings-symptoms-behaviours/feelings-and-symptoms/stress/" target="_blank">the NHS webpage here</a> for resources.</p>
    <p> Thank you again for your time.</p>`},
    choices: [''],
    button_html: '<button id="btn-expover" class="jspsych-btn" style = "width: 120px; height: 30px; position: fixed; bottom: 0px; justify-content: center; align-items: center;"><strong>Continue</strong></button>',
        on_start: function(){
    let bar = document.createElement('div');
      bar.id = 'bottom-bar';
      document.body.appendChild(bar);
      document.querySelector('.jspsych-content-wrapper')?.classList.add('with-bottom-bar');
      console.log(jspsych_id)
  },    
  data: {screen:'experimentover'},
  on_finish: function() {
    document.getElementById('bottom-bar')?.remove();
    document.querySelector('.jspsych-content-wrapper')?.classList.remove('with-bottom-bar');
}};


const filenamefirsthalf = function(){
  return `${jspsych_id}-${formatted_date}-A.csv`
}

var pipefirsthalf = {
  type: jsPsychPipe,
    action: "save",
    experiment_id: "8xnrIVBxMHny",
    wait_message: `<p>Saving progress. Please do not close this page.</p>`,
    filename: filenamefirsthalf,
    data_string: () => jsPsych.data.get().csv(),
}


var exitfullscreen = {
        type: jsPsychFullscreen,
        fullscreen_mode: false,
        message: `<div><p>When you press 'Continue', the window will exit full-screen.
            Thank you for taking part!</p>`,
        };

    jsPsych.run(timeline);

  </script>
</html>
